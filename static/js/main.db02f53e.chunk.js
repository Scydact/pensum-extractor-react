(this["webpackJsonppensum-extractor-react"]=this["webpackJsonppensum-extractor-react"]||[]).push([[0],{115:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},120:function(e,t,r){},121:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(16),s=r.n(c),o=(r(96),r(97),r(98),r(14)),i=r.n(o),u=r(24),l=r(10),d=r(28),j=r(19),b=r(3);function p(e,t){if(!e)return null;if(e.version>=2){var r=function(e,t){var r={version:3,institution:t,code:e.codigo,publishDate:e.vigencia,fetchDate:"2021-04-24",career:e.carrera,info:e.infoCarrera,loose:[],periods:[]};if(!e.cuats||!e.cuats.length)return console.warn("Pensum ".concat(e.codigo," (").concat(e.carrera,") did not contain any cuat!")),r;var n=function(e){return e?"string"===typeof e?[e]:Array.isArray(e)?Object(j.a)(e):(console.warn("Unknown requirement!: ",e),[]):[]},a=function(e){var t,r,a={code:e.codigo,name:e.asignatura,cr:e.creditos,prereq:[],coreq:[]};return(t=a.prereq).push.apply(t,Object(j.a)(n(e.prereq))),(r=a.prereq).push.apply(r,Object(j.a)(n(e.prereqExtra).map((function(e){return{text:e}})))),a};return e.cuats.forEach((function(e){var t,n=[],c=Object(d.a)(e);try{for(c.s();!(t=c.n()).done;){var s=t.value,o=a(s);n.push(o)}}catch(i){c.e(i)}finally{c.f()}r.periods.push(n)})),r}(e,t);return console.warn("Loaded pensum from old version!"),r}return 3===e.version?function(e){var t=function(e){return Object(b.a)(Object(b.a)({},e),{},{prereq:e.prereq?e.prereq:[],coreq:e.coreq?e.coreq:[]})},r=e.loose.map((function(e){return t(e)})),n=e.periods.map((function(e){return e.map((function(e){return t(e)}))}));return Object(b.a)(Object(b.a)({},e),{},{loose:r,periods:n})}(e):(console.warn("Pensum did not load correctly!",e),null)}var f="pensumextractor",h="./pensum";function v(e,t){return m.apply(this,arguments)}function m(){return(m=Object(u.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,O(t,r);case 4:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,y(t,r);case 9:if(!(n=e.sent)){e.next=12;break}return e.abrupt("return",n);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(i.a.mark((function e(t,r){var n,a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[f,t,r].join("_"),a=localStorage.getItem(n)){e.next=4;break}return e.abrupt("return",null);case 4:return c=JSON.parse(a),e.abrupt("return",p(c,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(i.a.mark((function e(t,r){var n,a,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[h,t,r].join("/")+".json",e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return s=c,e.abrupt("return",p(s,t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w="./pensum/universities.json",k="index.json";function N(){return(N=Object(u.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(w);case 2:return t=e.sent,e.next=5,t.json();case 5:if("object"===typeof(r=e.sent)){e.next=8;break}throw TypeError("Invalid universities.json format.");case 8:if(r.universities){e.next=10;break}throw TypeError("Invalid universities.json format.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(i.a.mark((function e(t){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{university:"",api:null,careers:[]});case 2:return r="./pensum/"+t.toLowerCase()+"/"+k,e.next=5,fetch(r);case 5:return n=e.sent,e.next=8,n.json();case 8:if("object"===typeof(a=e.sent)){e.next=11;break}throw TypeError("Invalid careers.json format.");case 11:if(a.api&&a.university&&a.careers){e.next=13;break}throw TypeError("Invalid careers.json format.");case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e,t){return e>t?1:-1};if(1===t.length){var n=t[0];return function(e,t){return e[n]>t[n]?1:-1}}return function(e,r){var n,a=Object(d.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(e[c]>r[c])return 1}}catch(s){a.e(s)}finally{a.f()}return-1}}window.sortByProp=S;var E=r(2);function A(e,t){switch(t.type){case"set/universities":return Object(b.a)(Object(b.a)({},e),{},{universities:t.payload});case"set/selected":return Object(b.a)(Object(b.a)({},e),{},{selected:t.payload});case"set/loading":return Object(b.a)(Object(b.a)({},e),{},{loading:t.payload});case"set/careers":return Object(b.a)(Object(b.a)({},e),{},{careers:t.payload});case"set/error":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return console.error('Unknown action "'+t.type+'".'),e}}var C={universities:[],selected:null,careers:[],loading:!0,error:null},L=Object(n.createContext)({state:C,dispatch:{}}),P=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(A,C),a=Object(l.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){return N.apply(this,arguments)})().then((function(e){var t=e.universities.sort(S("longName"));s({type:"set/universities",payload:t})})).catch((function(e){s({type:"set/error",payload:e})})).finally((function(){s({type:"set/loading",payload:!1})}))}),[]),Object(E.jsx)(L.Provider,{value:{state:c,dispatch:s},children:t})})),D=L,I=r(89),F=r(91),T=r(36),B=r(82),M=r(90),U=(r(115),{option:function(e,t){t.data,t.isDisabled,t.isFocused;var r=t.isSelected;return Object(b.a)(Object(b.a)({},e),{},{color:r?"white":void 0})}}),R=function(e){return Object(b.a)(Object(b.a)({},e),{},{colors:Object(b.a)(Object(b.a)({},e.colors),{},{primary:"var(--bs-primary)",primary75:"rgba(var(--bs-primary-rgb), 0.75)",primary50:"rgba(var(--bs-primary-rgb), 0.50)",primary25:"rgba(var(--bs-primary-rgb), 0.25)",danger:"var(--bs-danger)",dangerLight:"rgba(var(--bs-danger-rgb), 0.25)",neutral0:"var(--bs-body-bg)",neutral5:"var(--th-gray-50)",neutral10:"var(--th-gray-100)",neutral20:"var(--th-gray-200)",neutral30:"var(--th-gray-300)",neutral40:"var(--th-gray-400)",neutral50:"var(--th-gray-500)",neutral60:"var(--th-gray-600)",neutral70:"var(--th-gray-700)",neutral80:"var(--th-gray-800)",neutral90:"var(--th-gray-900)"})})};var J=function(e){var t=e.setPensum,r=e.initialPensum,a=Object(n.useContext)(D),c=a.state,s=a.dispatch,o=c.universities,i=c.selected,u=c.loading,d=c.error,j=Object(n.useState)(void 0),b=Object(l.a)(j,2),p=b[0],f=b[1],h=Object(n.useState)(r),v=Object(l.a)(h,2),m=v[0],O=v[1];Object(n.useEffect)((function(){O(r)}),[r]);var x=Object(n.useMemo)((function(){return c.universities.map((function(e){return{value:e.code,label:"[".concat(e.shortName,"] ").concat(e.longName)}}))}),[c.universities]);Object(n.useEffect)((function(){s({type:"set/selected",payload:o[0]||null}),t&&t(null)}),[o]);var y=Object(n.useMemo)((function(){if(!p)return[];var e=p.careers.sort(S("code"));return console.log(e),e.map((function(e){return{value:e.code,label:"[".concat(e.code,"] ").concat(e.name)}}))}),[p]);Object(n.useEffect)((function(){if(!i)return f(void 0),void O(null);s({type:"set/loading",payload:!0}),function(e){return q.apply(this,arguments)}(null===i||void 0===i?void 0:i.code).then((function(e){f(e)})).catch((function(e){console.warn("Unable to load pensums for ".concat(null===i||void 0===i?void 0:i.code,": "),e),f(void 0)})).finally((function(){s({type:"set/loading",payload:!1})}))}),[i,s]);var g=Object(E.jsxs)(I.a,{onSubmit:function(e){e.preventDefault(),t&&t(m)},children:[Object(E.jsx)(B.a,{value:x.find((function(e){return e.value===(null===i||void 0===i?void 0:i.code)})),options:x,isSearchable:!0,isLoading:u,onChange:function(e){if(e){var t=o.find((function(t){return t.code===e.value}))||null;s({type:"set/selected",payload:t}),e.value!==(null===t||void 0===t?void 0:t.code)&&O(null)}else s({type:"set/selected",payload:null})},name:"university",className:"mb-2",theme:R,styles:U}),Object(E.jsx)(M.a,{isClearable:!0,value:m,options:y,isLoading:u,loadingMessage:function(){return Object(E.jsx)("span",{children:"Cargando carreras..."})},onChange:function(e){O(e)},className:"mb-2",theme:R,styles:U}),Object(E.jsx)(F.a,{type:"submit",disabled:!m,className:"w-100",children:"Cargar"}),d?Object(E.jsx)("p",{style:{color:"red"},children:String(d)}):null]});return Object(E.jsx)(T.a,{children:Object(E.jsx)(T.a.Body,{children:g})})},Y=(r(118),r(57)),Q=r(38),V=r(15);r(119);var _=function(e){var t,r=e.data,n="mat-code code "+e.type;return t="string"===typeof r?r:r.text,Object(E.jsx)("span",{className:n,children:t})};function z(){return Object(E.jsxs)(Q.a,{className:"pensum-header row-period",children:[Object(E.jsx)(V.a,{className:"row-period-num",children:"Qt."}),Object(E.jsx)(V.a,{className:"row-mat-group",children:Object(E.jsxs)(Q.a,{className:"row-mat",children:[Object(E.jsx)(V.a,{className:"row-code",children:"C\xf3digo"}),Object(E.jsx)(V.a,{children:Object(E.jsxs)(Q.a,{children:[Object(E.jsx)(V.a,{className:"row-name",children:"Asignatura"}),Object(E.jsx)(V.a,{className:"row-cr",children:"Cr."}),Object(E.jsx)(V.a,{className:"row-prereq",children:"Requisitos"})]})})]})})]})}function G(e){var t=e.mat,r="row-mat";1&e.idx&&(r+=" even");var n=[];return n.push.apply(n,Object(j.a)(t.prereq.map((function(e,t){return Object(E.jsx)(_,{data:e,type:"prereq"})})))),Object(E.jsxs)(Q.a,{className:r,"data-mat":t.code,children:[Object(E.jsx)(V.a,{className:"row-code code",children:t.code}),Object(E.jsx)(V.a,{children:Object(E.jsxs)(Q.a,{children:[Object(E.jsx)(V.a,{className:"row-name",children:t.name}),Object(E.jsx)(V.a,{className:"row-cr",children:t.cr}),Object(E.jsx)(V.a,{className:"row-req",children:n})]})})]})}function H(e){var t=e.period,r=e.cuat,n=e.cumlen,a=void 0===n?0:n;return Object(E.jsxs)(Q.a,{className:"row-period",children:[Object(E.jsx)(V.a,{className:"row-period-num","data-value":r+1,children:r+1})," ",Object(E.jsx)(V.a,{className:"row-mat-group",children:t.map((function(e,t){return Object(E.jsx)(G,{mat:e,idx:t+a},e.code)}))})]})}var K=function(e){var t,r=e.pensum.periods,n=r.map((function(e){return e.length})).map((t=0,function(e){return t+=e}));return Object(E.jsxs)(Y.a,{className:"pensum-table",children:[Object(E.jsx)(z,{}),r.map((function(e,t){return Object(E.jsx)(H,{period:e,cuat:t,cumlen:n[t-1]},t)}))]})};var W=function(e){var t=e.pensum;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(T.a,{children:Object(E.jsxs)(T.a.Body,{className:"pensum-table-container",children:[Object(E.jsx)(T.a.Title,{children:t.career}),Object(E.jsx)(K,{pensum:t})]})})})};var X=function(e){var t=Object(n.useContext)(D),r=t.state,a=t.dispatch,c=Object(n.useState)(null),s=Object(l.a)(c,2),o=s[0],d=s[1],j=Object(n.useState)(null),b=Object(l.a)(j,2),p=b[0],f=b[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(J,{initialPensum:o,setPensum:function(e){Object(u.a)(i.a.mark((function t(){var n,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(e),e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,v(null===(n=r.selected)||void 0===n?void 0:n.code,e.value);case 5:a=t.sent,f(a);case 7:case"end":return t.stop()}}),t)})))()},universityData:r,universityDispatcher:a}),p&&Object(E.jsx)(W,{pensum:p})]})},Z=r(88),$=r(84),ee=r(85),te=r(86),re=!1,ne=!1;function ae(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e,n="light"===e?"dark":"light",a=document.body;a.classList.add("color-scheme-"+r),a.classList.remove("color-scheme-"+n),t&&localStorage.setItem("preferred-color-scheme",e)}function ce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";if(re){var r=document.querySelector("#"+t),n=r.dataset;"dark"===e?(r.setAttribute("href",n.hrefDark||""),ne=!0):(r.setAttribute("href",n.hrefLight||""),ne=!1),n.colorScheme=e}}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";re=!0;var r,n=document.querySelector("#"+t);null!==n&&n.remove();var a=document.querySelector("#"+t+"-light"),c=document.querySelector("#"+t+"-dark");"dark"===e?(r=c,n=a):(r=a,n=c),r.setAttribute("data-href-light",a.getAttribute("href")||""),r.setAttribute("data-href-dark",c.getAttribute("href")||""),r.setAttribute("data-color-scheme",e),r.setAttribute("media","all"),r.setAttribute("id",t),n.remove()}r(120);var oe=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){a(ne)}),[]),Object(n.useEffect)((function(){!function(e){var t=e?"dark":"light";re||se(t),ae(t,!0),ce(t)}(r)}),[r]),Object(E.jsx)(Z.a,{placement:"left",overlay:Object(E.jsx)($.a,{children:(r?"Desactivar":"Activar")+" modo oscuro"}),children:Object(E.jsxs)("label",{className:"darkmode-switch"+(r?" dark":""),children:[r?Object(E.jsx)(ee.a,{}):Object(E.jsx)(te.a,{}),Object(E.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){a(e.target.checked)}})]})})},ie=r(127);var ue=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=window.scrollY,r=function(){if(e.current){var r=window.scrollY;t>r?e.current.classList.remove("hidden"):e.current.classList.add("hidden"),t=r}};return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(E.jsx)(ie.a,{ref:e,variant:"dark",className:"App-header mb-3",fixed:"top",children:Object(E.jsxs)(Y.a,{children:[Object(E.jsx)(ie.a.Brand,{children:"PENSUMS UNAPEC"}),Object(E.jsx)(oe,{})]})})};var le=function(){return Object(E.jsxs)("footer",{className:"mt-3 navbar navbar-expand navbar-light static-bottom",children:[Object(E.jsx)("span",{children:"Pensum Extractor DO"}),Object(E.jsx)("span",{children:"Fernando Rivas, 2021"}),Object(E.jsx)("span",{children:Object(E.jsx)("a",{href:"http://scydact.github.io/",children:"scydact.github.io"})}),Object(E.jsxs)("span",{children:["Version v","1.0"," | save v","3.0"]}),Object(E.jsxs)("span",{children:["En caso de problemas o sugerencias, favor escribir a ",Object(E.jsx)("a",{href:"mailto:scydact@gmail.com?subject=[Pensum Extractor]",children:"scydact@gmail.com"}),"."]})]})};var de=function(){return Object(E.jsxs)(P,{children:[Object(E.jsx)(ue,{}),Object(E.jsx)(Y.a,{fluid:!0,className:"App",children:Object(E.jsx)(X,{})}),Object(E.jsx)(le,{})]})},je=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,128)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=localStorage.getItem("preferred-color-scheme");null!==t?se(t):t=e,ae(t,!1),ce(t)}(),s.a.render(Object(E.jsx)(a.a.StrictMode,{children:Object(E.jsx)(de,{})}),document.getElementById("root")),je()},96:function(e,t,r){},97:function(e,t,r){},98:function(e,t,r){}},[[121,1,2]]]);
//# sourceMappingURL=main.db02f53e.chunk.js.map