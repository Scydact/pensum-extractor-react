(this["webpackJsonppensum-extractor-react"]=this["webpackJsonppensum-extractor-react"]||[]).push([[0],{115:function(e,t,r){},118:function(e,t,r){},119:function(e,t,r){},120:function(e,t,r){},121:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(16),s=r.n(c),o=(r(96),r(97),r(98),r(10)),i=r(14),u=r.n(i),l=r(24),d="./pensum/universities.json",b="index.json";function j(){return(j=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d);case 2:return t=e.sent,e.next=5,t.json();case 5:if("object"===typeof(r=e.sent)){e.next=8;break}throw TypeError("Invalid universities.json format.");case 8:if(r.universities){e.next=10;break}throw TypeError("Invalid universities.json format.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(l.a)(u.a.mark((function e(t){var r,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{university:"",api:null,careers:[]});case 2:return r="./pensum/"+t.toLowerCase()+"/"+b,e.next=5,fetch(r);case 5:return n=e.sent,e.next=8,n.json();case 8:if("object"===typeof(a=e.sent)){e.next=11;break}throw TypeError("Invalid careers.json format.");case 11:if(a.api&&a.university&&a.careers){e.next=13;break}throw TypeError("Invalid careers.json format.");case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=r(3),v=r(28);function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e,t){return e>t?1:-1};if(1===t.length){var n=t[0];return function(e,t){return e[n]>t[n]?1:-1}}return function(e,r){var n,a=Object(v.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(e[c]>r[c])return 1}}catch(s){a.e(s)}finally{a.f()}return-1}}window.sortByProp=h;var m=r(2);function O(e,t){switch(t.type){case"set/universities":return Object(p.a)(Object(p.a)({},e),{},{universities:t.payload});case"set/selected":return Object(p.a)(Object(p.a)({},e),{},{selected:t.payload});case"set/loading":return Object(p.a)(Object(p.a)({},e),{},{loading:t.payload});case"set/error":return Object(p.a)(Object(p.a)({},e),{},{error:t.payload});default:return console.error("Unknown action: ",t),e}}var x={universities:[],selected:null,loading:!0,error:null},y=Object(n.createContext)({state:x,dispatch:{}}),g=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(O,x),a=Object(o.a)(r,2),c=a[0],s=a[1];return Object(n.useEffect)((function(){(function(){return j.apply(this,arguments)})().then((function(e){var t=e.universities.sort(h("longName"));s({type:"set/universities",payload:t})})).catch((function(e){s({type:"set/error",payload:e})})).finally((function(){s({type:"set/loading",payload:!1})}))}),[]),Object(m.jsx)(y.Provider,{value:{state:c,dispatch:s},children:t})})),w=y,k=r(89),N=r(91),q=r(36),S=r(82),E=r(90),C=(r(115),{option:function(e,t){t.data,t.isDisabled,t.isFocused;var r=t.isSelected;return Object(p.a)(Object(p.a)({},e),{},{color:r?"white":void 0})}}),A=function(e){return Object(p.a)(Object(p.a)({},e),{},{colors:Object(p.a)(Object(p.a)({},e.colors),{},{primary:"var(--bs-primary)",primary75:"rgba(var(--bs-primary-rgb), 0.75)",primary50:"rgba(var(--bs-primary-rgb), 0.50)",primary25:"rgba(var(--bs-primary-rgb), 0.25)",danger:"var(--bs-danger)",dangerLight:"rgba(var(--bs-danger-rgb), 0.25)",neutral0:"var(--bs-body-bg)",neutral5:"var(--th-gray-50)",neutral10:"var(--th-gray-100)",neutral20:"var(--th-gray-200)",neutral30:"var(--th-gray-300)",neutral40:"var(--th-gray-400)",neutral50:"var(--th-gray-500)",neutral60:"var(--th-gray-600)",neutral70:"var(--th-gray-700)",neutral80:"var(--th-gray-800)",neutral90:"var(--th-gray-900)"})})},L=r(19);function I(e,t){if(!e)return null;if(e.version<=3){var r=function(e,t){var r={version:Number("5.0"),institution:t,code:e.codigo,publishDate:e.vigencia,fetchDate:"2021-04-24",career:e.carrera,info:e.infoCarrera,loose:[],periods:[]};if(!e.cuats||!e.cuats.length)return console.warn("Pensum ".concat(e.codigo," (").concat(e.carrera,") did not contain any cuat!")),r;var n=function(e){return e?"string"===typeof e?[e]:Array.isArray(e)?Object(L.a)(e):(console.warn("Unknown requirement!: ",e),[]):[]},a=function(e){var t,r,a={code:e.codigo,name:e.asignatura,cr:e.creditos,prereq:[],coreq:[]};return(t=a.prereq).push.apply(t,Object(L.a)(n(e.prereq))),(r=a.prereq).push.apply(r,Object(L.a)(n(e.prereqExtra).map((function(e){return{text:e}})))),a};return e.cuats.forEach((function(e){var t,n=[],c=Object(v.a)(e);try{for(c.s();!(t=c.n()).done;){var s=t.value,o=a(s);n.push(o)}}catch(i){c.e(i)}finally{c.f()}r.periods.push(n)})),r}(e,t);return console.warn("Loaded pensum from old version!"),r}return 5===e.version?function(e){var t=function(e){return Object(p.a)(Object(p.a)({},e),{},{prereq:e.prereq?e.prereq:[],coreq:e.coreq?e.coreq:[]})},r=e.loose.map((function(e){return t(e)})),n=e.periods.map((function(e){return e.map((function(e){return t(e)}))}));return Object(p.a)(Object(p.a)({},e),{},{loose:r,periods:n})}(e):(console.warn("Pensum did not load correctly!",e),null)}var P="pensumextractor",D="./pensum";function F(e,t){return T.apply(this,arguments)}function T(){return(T=Object(l.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,B(t,r);case 4:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,U(t,r);case 9:if(!(n=e.sent)){e.next=12;break}return e.abrupt("return",n);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return M.apply(this,arguments)}function M(){return(M=Object(l.a)(u.a.mark((function e(t,r){var n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[P,t,r].join("_"),a=localStorage.getItem(n)){e.next=4;break}return e.abrupt("return",null);case 4:return c=JSON.parse(a),e.abrupt("return",I(c,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e,t){return J.apply(this,arguments)}function J(){return(J=Object(l.a)(u.a.mark((function e(t,r){var n,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[D,t,r].join("/")+".json",e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent){e.next=9;break}return e.abrupt("return",null);case 9:return s=c,e.abrupt("return",I(s,t));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t=Object(p.a)({},e);return t.prereq&&0===t.prereq.length&&delete t.prereq,t.coreq&&0===t.coreq.length&&delete t.coreq,t}var Y=function(e){return Object(p.a)(Object(p.a)({},e),{},{loose:e.loose.map((function(e){return R(e)})),periods:e.periods.map((function(e){return e.map((function(e){return R(e)}))}))})},Q="pensumData";function V(e,t){switch(t.type){case"clear":return null;case"set":return function(e){if(e){var t=Y(e);localStorage.setItem(Q,JSON.stringify(t))}else localStorage.removeItem(Q)}(t.payload),t.payload;case"load/fromSave":return function(){var e=localStorage.getItem(Q);if(!e)return null;var t=JSON.parse(e);return I(t,t.institution)}();default:return console.error('Unknown action "'+t.type+'".'),e}}var _=Object(n.createContext)({}),z=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(V,null),a=Object(o.a)(r,2),c=a[0],s=a[1];Object(n.useEffect)((function(){s({type:"load/fromSave"})}),[]);var i=Object(n.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="load"===e.t0?3:9;break;case 3:return r=t.payload,n=r.university,a=r.code,e.next=6,F(n,a);case 6:return c=e.sent,s({type:"set",payload:c}),e.abrupt("break",10);case 9:s(t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(m.jsx)(_.Provider,{value:{state:c,dispatch:i},children:t})})),G=_;function H(e,t){return"[".concat(e,"] ").concat(t)}var K=function(){var e=Object(n.useContext)(G),t=e.state,r=e.dispatch,a=Object(n.useContext)(w),c=a.state,s=a.dispatch,i=c.universities,u=c.selected,l=c.loading,d=c.error,b=Object(n.useState)(void 0),j=Object(o.a)(b,2),p=j[0],v=j[1],O=Object(n.useState)(null),x=Object(o.a)(O,2),y=x[0],g=x[1];Object(n.useEffect)((function(){if(t){var e=i.find((function(e){return e.code===t.institution}));e&&s({type:"set/selected",payload:e});var r=I.find((function(e){return e.value===t.code}))||{value:t.code,label:H(t.code,t.career)};g(r)}else g(null)}),[t,null===t||void 0===t?void 0:t.code,null===t||void 0===t?void 0:t.career,null===t||void 0===t?void 0:t.institution]);var L=Object(n.useMemo)((function(){return c.universities.map((function(e){return{value:e.code,label:H(e.shortName,e.longName)}}))}),[c,c.universities]);Object(n.useEffect)((function(){s({type:"set/selected",payload:i[0]||null})}),[i]);var I=Object(n.useMemo)((function(){return p?p.careers.sort(h("code")).map((function(e){return{value:e.code,label:H(e.code,e.name)}})):[]}),[p]);Object(n.useEffect)((function(){if(!u)return v(void 0),void g(null);s({type:"set/loading",payload:!0}),function(e){return f.apply(this,arguments)}(null===u||void 0===u?void 0:u.code).then((function(e){v(e)})).catch((function(e){console.warn("Unable to load pensums for ".concat(null===u||void 0===u?void 0:u.code,": "),e),v(void 0)})).finally((function(){s({type:"set/loading",payload:!1})}))}),[u,s]);var P=Object(m.jsxs)(k.a,{onSubmit:function(e){e.preventDefault(),r({type:"load",payload:{university:(null===u||void 0===u?void 0:u.code)||"",code:(null===y||void 0===y?void 0:y.value)||""}})},children:[Object(m.jsx)(S.a,{value:L.find((function(e){return e.value===(null===u||void 0===u?void 0:u.code)})),options:L,isSearchable:!0,isLoading:l,onChange:function(e){if(e){var t=i.find((function(t){return t.code===e.value}))||null;s({type:"set/selected",payload:t}),e.value!==(null===t||void 0===t?void 0:t.code)&&g(null)}else s({type:"set/selected",payload:null})},name:"university",className:"mb-2",theme:A,styles:C}),Object(m.jsx)(E.a,{isClearable:!0,value:y,options:I,isLoading:l,loadingMessage:function(){return Object(m.jsx)("span",{children:"Cargando carreras..."})},onChange:function(e){g(e)},className:"mb-2",theme:A,styles:C}),Object(m.jsx)(N.a,{type:"submit",disabled:!y,className:"w-100",children:"Cargar"}),d?Object(m.jsx)("p",{style:{color:"red"},children:String(d)}):null]});return Object(m.jsx)(q.a,{children:Object(m.jsx)(q.a.Body,{children:P})})},W=(r(118),r(57)),X=r(38),Z=r(15);r(119);var $=function(e){var t,r=e.data,n="mat-code code "+e.type;return t="string"===typeof r?r:r.text,Object(m.jsx)("span",{className:n,children:t})};function ee(){return Object(m.jsxs)(X.a,{className:"pensum-header row-period",children:[Object(m.jsx)(Z.a,{className:"row-period-num",children:"Qt."}),Object(m.jsx)(Z.a,{className:"row-mat-group",children:Object(m.jsxs)(X.a,{className:"row-mat",children:[Object(m.jsx)(Z.a,{className:"row-code",children:"C\xf3digo"}),Object(m.jsx)(Z.a,{children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(Z.a,{className:"row-name",children:"Asignatura"}),Object(m.jsx)(Z.a,{className:"row-cr",children:"Cr."}),Object(m.jsx)(Z.a,{className:"row-prereq",children:"Requisitos"})]})})]})})]})}function te(e){var t=e.mat,r="row-mat";1&e.idx&&(r+=" even");var n=[];return n.push.apply(n,Object(L.a)(t.prereq.map((function(e,t){return Object(m.jsx)($,{data:e,type:"prereq"},t)})))),Object(m.jsxs)(X.a,{className:r,"data-mat":t.code,children:[Object(m.jsx)(Z.a,{className:"row-code code",children:t.code}),Object(m.jsx)(Z.a,{children:Object(m.jsxs)(X.a,{children:[Object(m.jsx)(Z.a,{className:"row-name",children:t.name}),Object(m.jsx)(Z.a,{className:"row-cr",children:t.cr}),Object(m.jsx)(Z.a,{className:"row-req",children:n})]})})]})}function re(e){var t=e.period,r=e.cuat,n=e.cumlen,a=void 0===n?0:n;return Object(m.jsxs)(X.a,{className:"row-period",children:[Object(m.jsx)(Z.a,{className:"row-period-num","data-value":r+1,children:r+1})," ",Object(m.jsx)(Z.a,{className:"row-mat-group",children:t.map((function(e,t){return Object(m.jsx)(te,{mat:e,idx:t+a},e.code)}))})]})}var ne=function(e){var t,r=e.pensum.periods,n=r.map((function(e){return e.length})).map((t=0,function(e){return t+=e}));return Object(m.jsxs)(W.a,{className:"pensum-table",children:[Object(m.jsx)(ee,{}),r.map((function(e,t){return Object(m.jsx)(re,{period:e,cuat:t,cumlen:n[t-1]},t)}))]})};var ae=function(e){var t=e.pensum;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(q.a,{children:Object(m.jsxs)(q.a.Body,{className:"pensum-table-container",children:[Object(m.jsx)(q.a.Title,{children:t.career}),Object(m.jsx)(ne,{pensum:t})]})})})};var ce=function(e){var t=Object(n.useContext)(G).state;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(K,{}),t&&Object(m.jsx)(ae,{pensum:t})]})},se=r(88),oe=r(84),ie=r(85),ue=r(86),le=!1,de=!1;function be(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e,a="light"===e?"dark":"light",c=document.body;c.classList.add("color-scheme-"+n),c.classList.remove("color-scheme-"+a),r||(c.classList.add("color-scheme-transition"),setTimeout((function(){c.classList.remove("color-scheme-transition")}),500)),t&&localStorage.setItem("preferred-color-scheme",e)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";if(le){var r=document.querySelector("#"+t),n=r.dataset;"dark"===e?(r.setAttribute("href",n.hrefDark||""),de=!0):(r.setAttribute("href",n.hrefLight||""),de=!1),n.colorScheme=e}}function fe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";le=!0;var r,n=document.querySelector("#"+t);null!==n&&n.remove();var a=document.querySelector("#"+t+"-light"),c=document.querySelector("#"+t+"-dark");"dark"===e?(r=c,n=a):(r=a,n=c),r.setAttribute("data-href-light",a.getAttribute("href")||""),r.setAttribute("data-href-dark",c.getAttribute("href")||""),r.setAttribute("data-color-scheme",e),r.setAttribute("media","all"),r.setAttribute("id",t),n.remove()}r(120);var pe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){a(de)}),[]),Object(n.useEffect)((function(){!function(e){var t=e?"dark":"light";le||fe(t),be(t,!0),je(t)}(r)}),[r]),Object(m.jsx)(se.a,{placement:"left",overlay:Object(m.jsx)(oe.a,{children:(r?"Desactivar":"Activar")+" modo oscuro"}),children:Object(m.jsxs)("label",{className:"darkmode-switch"+(r?" dark":""),children:[r?Object(m.jsx)(ie.a,{}):Object(m.jsx)(ue.a,{}),Object(m.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){a(e.target.checked)}})]})})},ve=r(127);var he=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=window.scrollY,r=function(){if(e.current){var r=window.scrollY;t>r?e.current.classList.remove("hidden"):e.current.classList.add("hidden"),t=r}};return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(m.jsx)(ve.a,{ref:e,variant:"dark",className:"App-header mb-3",fixed:"top",children:Object(m.jsxs)(W.a,{children:[Object(m.jsx)(ve.a.Brand,{children:"PENSUMS UNAPEC"}),Object(m.jsx)(pe,{})]})})};var me=function(){return Object(m.jsxs)("footer",{className:"mt-3 navbar navbar-expand navbar-light static-bottom",children:[Object(m.jsx)("span",{children:"Pensum Extractor DO"}),Object(m.jsx)("span",{children:"Fernando Rivas, 2021"}),Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"http://scydact.github.io/",children:"scydact.github.io"})}),Object(m.jsxs)("span",{children:["Version v","1.0"," | save v","5.0"]}),Object(m.jsxs)("span",{children:["En caso de problemas o sugerencias, favor escribir a ",Object(m.jsx)("a",{href:"mailto:scydact@gmail.com?subject=[Pensum Extractor]",children:"scydact@gmail.com"}),"."]})]})};var Oe=function(){var e=Object(n.useCallback)((function(e){return Object(m.jsx)(g,{children:Object(m.jsx)(z,{children:e.children})})}),[]);return Object(m.jsxs)(e,{children:[Object(m.jsx)(he,{}),Object(m.jsx)(W.a,{fluid:!0,className:"App",children:Object(m.jsx)(ce,{})}),Object(m.jsx)(me,{})]})},xe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,128)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=localStorage.getItem("preferred-color-scheme");null!==t?fe(t):t=e,be(t,!1,!0),je(t)}(),s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(Oe,{})}),document.getElementById("root")),xe()},96:function(e,t,r){},97:function(e,t,r){},98:function(e,t,r){}},[[121,1,2]]]);
//# sourceMappingURL=main.5ca85d6d.chunk.js.map