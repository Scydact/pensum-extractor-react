(this["webpackJsonppensum-extractor-react"]=this["webpackJsonppensum-extractor-react"]||[]).push([[0],{112:function(e,t,r){},131:function(e,t,r){},132:function(e,t,r){},133:function(e,t,r){},134:function(e,t,r){},153:function(e,t,r){},155:function(e,t,r){},156:function(e,t,r){},157:function(e,t,r){},158:function(e,t,r){},159:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(22),s=r.n(c),o=(r(131),r(132),r(133),r(34)),i=r(11),l=r(30),u=r(4),d=r(123),j=r(114),b=r(115),O=r(116),f=!1;function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e,n="light"===e?"dark":"light",c=document.body;c.classList.add("color-scheme-"+a),c.classList.remove("color-scheme-"+n),c.dataset.colorScheme=a,r||(c.classList.add("color-scheme-transition"),setTimeout((function(){c.classList.remove("color-scheme-transition")}),500)),t&&localStorage.setItem("preferred-color-scheme",e)}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";if(f){var r=document.querySelector("#"+t),a=r.dataset;"dark"===e?r.setAttribute("href",a.hrefDark||""):r.setAttribute("href",a.hrefLight||""),a.colorScheme=e}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";f=!0;var r,a=document.querySelector("#"+t);null!==a&&a.remove();var n=document.querySelector("#"+t+"-light"),c=document.querySelector("#"+t+"-dark");"dark"===e?(r=c,a=n):(r=n,a=c),r.setAttribute("data-href-light",n.getAttribute("href")||""),r.setAttribute("data-href-dark",c.getAttribute("href")||""),r.setAttribute("data-color-scheme",e),r.setAttribute("media","all"),r.setAttribute("id",t),a.remove()}r(134);var v=r(2);var x=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),r=t[0],n=t[1];return Object(a.useEffect)((function(){n("dark"===document.body.dataset.colorScheme)}),[]),Object(a.useEffect)((function(){!function(e){var t=e?"dark":"light";f||m(t),h(t,!0),p(t)}(r)}),[r]),Object(v.jsx)(d.a,{placement:"left",overlay:Object(v.jsx)(j.a,{children:(r?"Desactivar":"Activar")+" modo oscuro"}),children:Object(v.jsxs)("label",{className:"darkmode-switch"+(r?" dark":""),children:[r?Object(v.jsx)(b.a,{}):Object(v.jsx)(O.a,{}),Object(v.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){n(e.target.checked)}})]})})},g=r(165);var y=function(){var e=Object(a.useRef)(null),t=Object(i.h)();return Object(a.useEffect)((function(){var t=window.scrollY,r=function(){if(e.current){var r=window.scrollY,a=e.current.getBoundingClientRect().height;e.current.style.top=t>r?"0":(a<r?-a:-r)+"px",t=r}};return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(v.jsx)(g.a,{ref:e,variant:"dark",className:"App-header mb-3",fixed:"top",children:Object(v.jsxs)(l.a,{children:[Object(v.jsx)(g.a.Brand,{onClick:function(){return t("/")},children:"PENSUMS UNAPEC"}),Object(v.jsx)(x,{})]})})};var w=function(){var e=Object(i.h)();return Object(v.jsxs)("footer",{className:"my-3 navbar navbar-expand navbar-light static-bottom text-center",children:[Object(v.jsx)("span",{children:"Pensum Extractor DO"}),Object(v.jsx)("span",{children:"Fernando Rivas, 2021"}),Object(v.jsxs)("span",{children:[Object(v.jsx)("a",{href:"http://scydact.github.io/",target:"_blank",rel:"noreferrer",children:"scydact.github.io"}),Object(v.jsxs)("span",{style:{margin:"0 .5rem"},children:["(",Object(v.jsx)("a",{href:"https://github.com/Scydact/pensum-extractor-react",target:"_blank",rel:"noreferrer",children:"Ver en GitHub"}),")"]})]}),Object(v.jsxs)("span",{children:["Version v","1.0"," | save v","5.0"]}),Object(v.jsxs)("span",{children:["En caso de problemas o sugerencias, favor escribir a ",Object(v.jsx)("a",{href:"mailto:scydact@gmail.com?subject=[Pensum Extractor]",children:"scydact@gmail.com"}),Object(v.jsx)("span",{className:"muted",onClick:function(){return e("debug")},title:"Debug",children:"."})]})]})},C=r(18),N=r.n(C),k=r(27),S=r(3),E="/pensum-extractor-react/pensum",P=E+"/universities.json",A="index.json";function T(){return(T=Object(k.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P);case 2:return t=e.sent,e.next=5,t.json();case 5:if("object"===typeof(r=e.sent)){e.next=8;break}throw TypeError("Invalid universities.json format.");case 8:if(r.universities){e.next=10;break}throw TypeError("Invalid universities.json format.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return M.apply(this,arguments)}function M(){return(M=Object(k.a)(N.a.mark((function e(t){var r,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{university:"",api:null,careers:[]});case 2:return r=E+"/"+t.toLowerCase()+"/"+A,e.next=5,fetch(r);case 5:return a=e.sent,e.next=8,a.json();case 8:if("object"===typeof(n=e.sent)){e.next=11;break}throw TypeError("Invalid careers.json format.");case 11:if(n.api&&n.university&&n.careers){e.next=13;break}throw TypeError("Invalid careers.json format.");case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=r(15);function D(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e,t){return e>t?1:-1};if(1===t.length){var a=t[0];return function(e,t){return e[a]>t[a]?1:-1}}return function(e,r){var a,n=Object(L.a)(t);try{for(n.s();!(a=n.n()).done;){var c=a.value;if(e[c]>r[c])return 1}}catch(s){n.e(s)}finally{n.f()}return-1}}function F(e,t){switch(t.type){case"set/universities":return Object(S.a)(Object(S.a)({},e),{},{universities:t.payload});case"set/selected":var r;if(!t.payload)return Object(S.a)(Object(S.a)({},e),{},{loading:!1,selected:null});var a=t.payload,n=a.code,c=a.data.careers,s=e.universities.find((function(e){return e.code===n}))||{code:n,imgUrl:null,longName:n,shortName:n.toUpperCase()};return(null===(r=e.selected)||void 0===r?void 0:r.code)===n?Object(S.a)(Object(S.a)({},e),{},{loading:!1}):(s.code!==n&&console.warn("University code mismatch!"),Object(S.a)(Object(S.a)({},e),{},{loading:!1,selected:{code:n,university:s,careers:c}}));case"set/loading":return Object(S.a)(Object(S.a)({},e),{},{loading:t.payload});case"set/error":return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});default:return console.error("Unknown action: ",t),e}}var I={universities:[],selected:null,loading:!0,error:null},U=Object(a.createContext)({state:I,dispatch:{},select:function(){var e=Object(k.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),R=Object(a.memo)((function(e){var t=e.children,r=Object(a.useReducer)(F,I),n=Object(u.a)(r,2),c=n[0],s=n[1],o=Object(a.useCallback)(function(){var e=Object(k.a)(N.a.mark((function e(t){var r,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return s({type:"set/selected",payload:null}),e.abrupt("return");case 3:if((t=null===(r=t)||void 0===r?void 0:r.toLowerCase())!==(null===(a=c.selected)||void 0===a?void 0:a.code)){e.next=6;break}return e.abrupt("return");case 6:return s({type:"set/loading",payload:!0}),e.prev=7,e.next=10,q(t);case 10:n=e.sent,s({type:"set/selected",payload:{code:t,data:n}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.warn("Unable to load pensums for ".concat(t,": "),e.t0),s({type:"set/selected",payload:{code:t,data:{api:null,university:t.toUpperCase(),careers:[]}}});case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),[c.selected,s]);return Object(a.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(e){var t=e.universities.sort(D("longName"));s({type:"set/universities",payload:t})})).catch((function(e){s({type:"set/error",payload:e})})).finally((function(){s({type:"set/loading",payload:!1})}))}),[]),Object(a.useEffect)((function(){null===c.selected&&o("unapec")}),[o,c.selected]),Object(v.jsx)(U.Provider,{value:{state:c,dispatch:s,select:o},children:t})})),B=U,H=r(124),G=r(36),_=r(19),J=r(120),V=r(121),z=r(126),W=(r(153),{option:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{color:t.isSelected?"white":void 0})},placeholder:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{opacity:.6})}}),Y=function(e){return Object(S.a)(Object(S.a)({},e),{},{colors:Object(S.a)(Object(S.a)({},e.colors),{},{primary:"var(--bs-primary)",primary75:"rgba(var(--bs-primary-rgb), 0.75)",primary50:"rgba(var(--bs-primary-rgb), 0.50)",primary25:"rgba(var(--bs-primary-rgb), 0.25)",danger:"var(--bs-danger)",dangerLight:"rgba(var(--bs-danger-rgb), 0.25)",neutral0:"var(--bs-body-bg)",neutral5:"var(--th-gray-50)",neutral10:"var(--th-gray-100)",neutral20:"var(--th-gray-200)",neutral30:"var(--th-gray-300)",neutral40:"var(--th-gray-400)",neutral50:"var(--th-gray-500)",neutral60:"var(--th-gray-600)",neutral70:"var(--th-gray-700)",neutral80:"var(--th-gray-800)",neutral90:"var(--th-gray-900)"})})},K=r(43),Q=r(56),X=r(60),Z=r(125),$=r(59),ee="PENSUM_LOCALSAVE",te="/pensum-extractor-react/pensum";function re(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(k.a)(N.a.mark((function e(t,r){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}throw new ue("No university or code provided!");case 2:return e.next=4,ne(t,r);case 4:if(!(a=e.sent)){e.next=7;break}return e.abrupt("return",a);case 7:return e.next=9,se(t,r);case 9:if(!(a=e.sent)){e.next=12;break}return e.abrupt("return",a);case 12:return e.next=14,ie(t,r);case 14:if(!(a=e.sent)){e.next=17;break}return e.abrupt("return",a);case 17:throw new ue("Unable to fetch pensum with identifier ".concat(t,"/").concat(r));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ce.apply(this,arguments)}function ce(){return(ce=Object(k.a)(N.a.mark((function e(t,r){var a,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[ee,t,r].join("_"),n=localStorage.getItem(a)){e.next=4;break}return e.abrupt("return",null);case 4:return c=JSON.parse(n),e.abrupt("return",Object($.b)(c,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(k.a)(N.a.mark((function e(t,r){var a,n,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[te,t,r].join("/")+".json",e.prev=1,e.next=4,fetch(a);case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:return e.abrupt("return",Object($.b)(n,t));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function ie(e,t){return le.apply(this,arguments)}function le(){return(le=Object(k.a)(N.a.mark((function e(t,a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="unapec"===e.t0?3:9;break;case 3:return e.next=5,r.e(3).then(r.bind(null,169));case 5:return n=e.sent,e.next=8,n.default(a,(function(e,r,n){return console.log("".concat(e," ").concat(t,"/").concat(a,", using proxy #").concat(n,": ").concat(r))}));case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=function(e){Object(Q.a)(r,e);var t=Object(X.a)(r);function r(){return Object(K.a)(this,r),t.apply(this,arguments)}return r}(Object(Z.a)(Error));function de(e){var t=Object(S.a)({},e);return t.prereq&&0===t.prereq.length&&delete t.prereq,t.coreq&&0===t.coreq.length&&delete t.coreq,t}var je=function(e){return Object(S.a)(Object(S.a)({},e),{},{loose:e.loose.map((function(e){return de(e)})),periods:e.periods.map((function(e){return e.map((function(e){return de(e)}))}))})};var be=function(e){if(!e)return{list:[],periodMap:new Map,codeMap:new Map,postreqMap:new Map,looseUnhandled:new Set};var t=new Map,r=new Map,a=new Map,n=[],c=[],s=function(e,a){t.has(e.code)&&c.push({code:e.code,text:"was already registered!"}),t.set(e.code,e),r.set(e.code,a),n.push(e)};e.loose.forEach((function(e){return s(e,0)})),e.periods.forEach((function(e,t){e.forEach((function(e){return s(e,t+1)}))}));for(var o=0,i=n;o<i.length;o++){var l,u=i[o],d=u.code,j=Object(L.a)(u.prereq);try{for(j.s();!(l=j.n()).done;){var b=l.value;if("string"===typeof b){var O=a.get(b);O?O.push(d):a.set(b,[d])}}}catch(x){j.e(x)}finally{j.f()}}for(var f=new Set(t.keys()),h=function(e,t){var r,a=new Set(e),n=Object(L.a)(t);try{for(n.s();!(r=n.n()).done;){var c=r.value;a.delete(c)}}catch(x){n.e(x)}finally{n.f()}return a}(new Set(a.keys()),f),p=0,m=c;p<m.length;p++){var v=m[p];console.warn("Warning at pensum-get-extras [".concat(v.code,"]: ").concat(v.text))}return{list:n,periodMap:r,codeMap:t,postreqMap:a,looseUnhandled:h}},Oe="PENSUM_DATA";function fe(e){if(e){var t=je(e);localStorage.setItem(Oe,JSON.stringify(t))}else localStorage.removeItem(Oe)}function he(e){return{pensum:e,matData:be(e),error:null,loading:!1}}function pe(e,t){switch(t.type){case"clear":return he(null);case"set":return fe(t.payload),he(t.payload);case"load/fromSave":var r=function(){var e=localStorage.getItem(Oe);if(!e)return null;var t=JSON.parse(e);return Object($.b)(t,t.institution)}();return r||fe(r=function(){var e=localStorage.getItem("pensumData");if(!e)return null;var t=JSON.parse(e);return Object($.b)(t,"unapec")}()),he(r);case"error":return console.error(t.payload),Object(S.a)(Object(S.a)({},e),{},{error:t.payload,loading:!1});case"loading":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});default:return console.error('Unknown action "'+t.type+'".'),e}}var me={state:he(null),dispatch:function(){},load:function(){}},ve=Object(a.createContext)(me),xe=Object(a.memo)((function(e){var t=e.children,r=Object(a.useReducer)(pe,me.state),n=Object(u.a)(r,2),c=n[0],s=n[1];Object(a.useEffect)((function(){s({type:"load/fromSave"})}),[]);var o=Object(a.useCallback)(function(){var e=Object(k.a)(N.a.mark((function e(t,r){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"loading",payload:!0}),e.prev=1,e.next=4,re(t,r);case 4:a=e.sent,s({type:"set",payload:a}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),n=e.t0 instanceof SyntaxError?"JSON could not be parsed for ".concat(t,"/").concat(r,"."):e.t0 instanceof ue?e.t0.message:e.t0,s({type:"error",payload:n});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[]);return Object(v.jsx)(ve.Provider,{value:{state:c,dispatch:s,load:o},children:t})})),ge=ve,ye=r(88);function we(e,t){return"[".concat(e,"] ").concat(t)}var Ce=Object(a.memo)((function(e){var t=e.value,r=e.options,a=e.isLoading,n=e.onChange;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{className:"form-label mb-0 small",children:"Universidad"}),Object(v.jsx)(V.a,{value:t,options:r,isSearchable:!0,isLoading:a,onChange:n,name:"university",className:"mb-2",theme:Y,placeholder:"Seleccione una universidad...",styles:W})]})})),Ne=Object(a.memo)((function(e){var t=e.value,r=e.options,a=e.isLoading,n=e.onChange;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("label",{className:"form-label mb-0 small",children:"Carrera"}),Object(v.jsx)(z.a,{isClearable:!0,value:t,options:r,isLoading:a,loadingMessage:function(){return Object(v.jsx)("span",{children:"Cargando carreras..."})},onChange:n,className:"mb-2",theme:Y,placeholder:"Seleccione o escriba una carrera o su codigo...",styles:W})]})})),ke=function(){var e=Object(a.useContext)(ge),t=e.state,r=t.pensum,n=t.error,c=t.loading,s=e.load,o=Object(a.useContext)(B),i=o.state,d=o.select,j=i.universities,b=i.selected,O=i.loading,f=i.error,h=Object(a.useState)(null),p=Object(u.a)(h,2),m=p[0],x=p[1],g=Object(ye.b)(r),y=Object(a.useMemo)((function(){var e=null===b||void 0===b?void 0:b.careers;return e?e.sort(D("code")).map((function(e){return{value:e.code,label:we(e.code,e.name)}})):[]}),[b]);Object(a.useEffect)((function(){if(r!==g&&r){d(r.institution);var e=y.find((function(e){return e.value===r.code}))||{value:r.code,label:we(r.code,r.career)};x(e)}}),[r,g,y,d]);var w=Object(a.useMemo)((function(){return j.map((function(e){return{value:e.code,label:we(e.shortName,e.longName)}}))}),[j]),C=Object(a.useMemo)((function(){return w.find((function(e){return e.value===(null===b||void 0===b?void 0:b.code)}))||null}),[w,b]),N=Object(a.useCallback)((function(e){d((null===e||void 0===e?void 0:e.value)||null)}),[d]),k=Object(a.useCallback)((function(e){e&&e.preventDefault();var t=(null===b||void 0===b?void 0:b.code)||"",r=(null===m||void 0===m?void 0:m.value)||"";s(t,r)}),[s,b,m]);return Object(v.jsx)(_.a,{children:Object(v.jsx)(_.a.Body,{children:Object(v.jsx)(l.a,{children:Object(v.jsxs)(H.a,{onSubmit:k,style:{zIndex:2,position:"relative"},children:[Object(v.jsx)(Ce,{value:C,options:w,isLoading:O,onChange:N}),Object(v.jsx)(Ne,{value:m,options:y,isLoading:O,onChange:x}),Object(v.jsx)(G.a,{type:"submit",disabled:!m,className:"w-100",children:c?Object(v.jsx)(J.a,{animation:"border",size:"sm",children:Object(v.jsx)("span",{className:"visually-hidden",children:"Cargando..."})}):"Cargar"}),f&&Object(v.jsx)("p",{style:{color:"red"},children:"Error @ uni: "+String(f)}),n&&Object(v.jsx)("p",{style:{color:"red"},children:"Error @ pensum: "+String(n)})]})})})})},Se=(r(155),r(16)),Ee=r(12),Pe=r(17),Ae=["passed","course"],Te=function(){return{mode:"passed",tracker:{course:new Set,passed:new Set},currentName:null,storage:{},filter:new Set}},qe="PENSUM_TRACKER",Me="saveData";function Le(e,t){var r,a,n=function(t){t||(t=e.tracker);for(var r={},a=0,n=Object.entries(t);a<n.length;a++){var c=Object(u.a)(n[a],2),s=c[0],o=c[1];r[s]=new Set(o)}return r},c=e.mode;switch(t.type){case"selectMode":var s=t.payload||"passed";return Le(Object(S.a)(Object(S.a)({},e),{},{mode:s}),{type:"saveToStorage"});case"select":var o=t.payload,i=n();if(i[c].has(o))i[c].delete(o);else{i[c].add(o);for(var l=0,d=Object.entries(i);l<d.length;l++){var j=Object(u.a)(d[l],2),b=j[0],O=j[1];b!==c&&O.delete(o)}}return Le(Object(S.a)(Object(S.a)({},e),{},{tracker:i}),{type:"saveToStorage"});case"selectPeriod":var f=t.payload,h=n(),p=f.length;if(0===p)return e;var m,v=(r=h,a=function(e){return[]},Object.fromEntries(Object.entries(r).map((function(e,t){var r=Object(u.a)(e,2),n=r[0],c=r[1];return[n,a(c,n,t)]})))),x=[],g=Object(L.a)(f);try{for(g.s();!(m=g.n()).done;){for(var y=m.value,w=!1,C=0,N=Object.entries(h);C<N.length;C++){var k=Object(u.a)(N[C],2),E=k[0];k[1].has(y)&&(v[E].push(y),w=!0)}w||x.push(y)}}catch(ne){g.e(ne)}finally{g.f()}var P=v[c].length===p,A=x.length===p,T=0===x.length,q=!A&&!T;if(P)f.forEach((function(e){return h[c].delete(e)}));else if(q)x.forEach((function(e){return h[c].add(e)}));else{var M,D=Object(L.a)(f);try{for(D.s();!(M=D.n()).done;)for(var F=M.value,I=0,U=Object.entries(h);I<U.length;I++){var R=Object(u.a)(U[I],2),B=R[0],H=R[1];B===c?H.add(F):H.delete(F)}}catch(ne){D.e(ne)}finally{D.f()}}return Le(Object(S.a)(Object(S.a)({},e),{},{tracker:h}),{type:"saveToStorage"});case"passOnCourse":if(0===e.tracker.course.size)return e;var G=n();return G.passed=function(e,t){var r,a=new Set(e),n=Object(L.a)(t);try{for(n.s();!(r=n.n()).done;){var c=r.value;a.add(c)}}catch(ne){n.e(ne)}finally{n.f()}return a}(G.passed,G.course),G.course.clear(),Le(Object(S.a)(Object(S.a)({},e),{},{tracker:G}),{type:"saveToStorage"});case"setTrackerID":var _;if("string"!==typeof t.payload)_=null;else{var J=t.payload.trim();_=""===J?null:J}if("string"===typeof _&&e.storage[_]&&!e.storage.hasOwnProperty(_))throw RangeError("Given name ".concat(_," is a prototype property!"));var V=Object(S.a)({},e.storage);return e.currentName&&delete V[e.currentName],Le(Object(S.a)(Object(S.a)({},e),{},{currentName:_,storage:V}),{type:"saveToStorage"});case"copyTrackerID":var z=t.payload,W=z.old,Y=z.new;if(W===Y)return e;var K=Object(S.a)({},e.storage),Q=K[W];if(!Q)return e;K[Y]=n(Q);var X=e.currentName;return X===W&&(X=Y),Le(Object(S.a)(Object(S.a)({},e),{},{storage:K,currentName:X}),{type:"saveToStorage"});case"deleteTrackerID":var Z=t.payload;if(!Z||!e.storage[Z])return e;var $=Object(S.a)({},e.storage);delete $[Z];var ee=e.currentName;return ee===Z&&(ee=null),Le(Object(S.a)(Object(S.a)({},e),{},{storage:$,currentName:ee}),{type:"saveToStorage"});case"toggleFilter":var te=new Set(e.filter),re=t.payload;return te.has(re)?te.delete(re):te.add(re),Le(Object(S.a)(Object(S.a)({},e),{},{filter:te}),{type:"saveToStorage"});case"saveToStorage":return e.currentName&&(e.storage[e.currentName]=e.tracker),Ie(e),e;case"loadFromStorage":var ae=function(){var e=localStorage.getItem(qe);if(!e)return null;var t=JSON.parse(e,Fe);if(!(t&&t.tracker&&"object"===typeof t.tracker.passed&&t.tracker.passed instanceof Set&&t.storage))return null;return Ue(t)}();return ae||(ae=function(){var e=localStorage.getItem(Me);if(!e)return null;var t=JSON.parse(e);if("object"!==typeof t||6!==t.saveVer)return null;var r={};if(t.filterMode){var a=new Set,n=function(e,t){!1===e&&a.add(t)};r.filter=a,n(t.filterMode.pending,null),n(t.filterMode.onCourse,"course"),n(t.filterMode.passed,"passed")}0===t.selectMode?r.mode="passed":1===t.selectMode&&(r.mode="course");if(t.userData){r.tracker={course:new Set,passed:new Set};var c=function(e,t){Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))&&e.forEach((function(e){return t.add(e)}))};c(t.userData.passed,r.tracker.passed),c(t.userData.onCourse,r.tracker.course)}return Ue(r)}(),ae&&Ie(ae)),ae||e;default:return console.error('Unknown action "'+(null===t||void 0===t?void 0:t.type)+'".'),e}}var De=function(e,t){return"object"===typeof t&&t instanceof Set?Object(Pe.a)(t):t},Fe=function(e,t){return"object"===typeof t&&Array.isArray(t)?new Set(t):t};function Ie(e){var t=JSON.stringify(e,De);localStorage.setItem(qe,t)}function Ue(e){var t=Te(),r=Object(S.a)(Object(S.a)({},t.tracker),e.tracker),a=Ae.includes(e.mode)?e.mode:t.mode,n="string"===typeof e.currentName?e.currentName:null,c=t.storage;"object"===typeof e.storage&&(c=Object.fromEntries(Object.entries(e.storage).filter((function(e){var t=Object(u.a)(e,2),r=t[0],a=t[1];return"string"===typeof r&&c[r]&&!c.hasOwnProperty(r)&&a instanceof Set&&Object(Pe.a)(a).every((function(e){return"string"===typeof e}))}))));var s=e.filter instanceof Set?e.filter:t.filter;return{tracker:r,mode:a,currentName:n,storage:c,filter:s}}var Re={state:Te(),dispatch:function(){}},Be=function(e,t){for(var r=0,a=Object.entries(e);r<a.length;r++){var n=Object(u.a)(a[r],2),c=n[0];if(n[1].has(t))return c}return null},He=function(e,t){for(var r=function(){var e=Object(u.a)(n[a],2),r=e[0],c=e[1];if(t.every((function(e){return c.has(e)})))return{v:r}},a=0,n=Object.entries(e);a<n.length;a++){var c=r();if("object"===typeof c)return c.v}return null},Ge=Object(a.createContext)(Re.dispatch),_e=Object(a.createContext)(Re.state.mode),Je=Object(a.createContext)(Re.state.tracker),Ve=Object(a.createContext)(Re.state.currentName),ze=Object(a.createContext)(Re.state.storage),We=Object(a.createContext)(Re.state.filter),Ye=Object(a.memo)((function(e){var t=e.children,r=Object(a.useReducer)(Le,Re.state),n=Object(u.a)(r,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){s({type:"loadFromStorage"}),window.x=s}),[]),Object(v.jsx)(Ge.Provider,{value:s,children:Object(v.jsx)(_e.Provider,{value:c.mode,children:Object(v.jsx)(Je.Provider,{value:c.tracker,children:Object(v.jsx)(Ve.Provider,{value:c.currentName,children:Object(v.jsx)(ze.Provider,{value:c.storage,children:Object(v.jsx)(We.Provider,{value:c.filter,children:t})})})})})})})),Ke=r(29),Qe=r(5),Xe=(r(156),r(157),["data","type","children","onClick","className"]),Ze=["children"];function $e(e){var t,r=e.data,n=e.type,c=void 0===n?"prereq":n,s=e.children,o=e.onClick,i=e.className,l=Object(Qe.a)(e,Xe),u=Object(a.useContext)(ge).state.matData,d=Object(a.useContext)(Je),j=["mat-code",c];return i&&j.push.apply(j,Object(Pe.a)(i.split(" "))),"string"===typeof r?(t=s||r,j.push("code"),o&&j.push("click-target"),u.looseUnhandled.has(r)&&j.push("missing"),j.push(Be(d,r)||"default")):(t=s||r.text,j.push("req-text")),Object(v.jsx)("span",Object(S.a)(Object(S.a)({className:Object(Ke.a)(j),onClick:o},l),{},{children:t}))}function et(e){var t,r,n=e.children,c=Object(Qe.a)(e,Ze),s=Object(a.useContext)(ge).state.matData;if(n)return Object(v.jsx)($e,Object(S.a)(Object(S.a)({},c),{},{children:n}));"string"===typeof c.data&&(t=null===(r=s.codeMap.get(c.data))||void 0===r?void 0:r.name);return t?Object(v.jsx)($e,Object(S.a)(Object(S.a)({},c),{},{children:"[".concat(c.data,"] ").concat(t)})):Object(v.jsx)($e,Object(S.a)({},c))}var tt=$e,rt={map:{current:new Map},scrollToRow:function(){},updateNode:function(){}},at=Object(a.createContext)(rt),nt=Object(a.memo)((function(e){var t=e.children,r=Object(a.useRef)(new Map),n=Object(a.useCallback)((function(e,t){r.current.set(e,t)}),[]),c=Object(a.useCallback)((function(e){setTimeout((function(){var t,a,n,c=r.current.get(e);c&&(null===(t=c.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"}),null===(a=c.current)||void 0===a||a.classList.remove("highlight-row"),null===(n=c.current)||void 0===n||n.classList.add("highlight-row"),setTimeout((function(){var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.classList.remove("highlight-row")}),3e3))}),0)}),[]);return Object(v.jsx)(at.Provider,{value:{map:r,scrollToRow:c,updateNode:n},children:t})})),ct=at,st=new Map([["passed","\u2705"],["course","\ud83d\udd33"],[null,"\u2b1c"]]);var ot=function(e){var t=e.mat,r=e.idx,n=Object(a.useRef)(null),c=Object(a.useRef)(null),s=Object(a.useContext)(ct).updateNode,i=Object(a.useContext)(Ge),l=Object(a.useContext)(Je),u=Object(a.useContext)(_e),d=Be(l,t.code),j=["row-mat",1&r&&"even",d,"table-hover-"+(d===u?"default":u)],b=[].concat(Object(Pe.a)(t.prereq.map((function(e,t){return Object(v.jsx)(tt,{data:e,type:"prereq"},t)}))),Object(Pe.a)(t.coreq.map((function(e,t){return Object(v.jsx)(tt,{data:e,type:"coreq"},t+1e3)}))));Object(a.useEffect)((function(){var e=function(){var e;null===(e=n.current)||void 0===e||e.classList.add("track-hover")},t=function(){var e;null===(e=n.current)||void 0===e||e.classList.remove("track-hover")},r=c.current;if(r)return r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),function(){r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t)}}),[n,c]),Object(a.useEffect)((function(){return s(t.code,n),function(){return s(t.code,n)}}),[t.code,s,n]);var O=Object(a.useCallback)((function(e){i({type:"select",payload:t.code})}),[t.code,i]);return Object(v.jsxs)(Se.a,{ref:n,className:Object(Ke.a)(j),"data-mat":t.code,children:[Object(v.jsx)(Ee.a,{ref:c,onClick:O,className:"row-check click-target",children:st.get(d)||"\u2b1cx"}),Object(v.jsx)(Ee.a,{className:"row-code code",children:Object(v.jsx)(o.b,{to:"/mat/".concat(t.code),children:t.code})}),Object(v.jsx)(Ee.a,{children:Object(v.jsxs)(Se.a,{className:"h-100 align-items-center",children:[Object(v.jsx)(Ee.a,{className:"row-name",children:t.name}),Object(v.jsx)(Ee.a,{className:"row-cr",children:t.cr}),Object(v.jsx)(Ee.a,{className:"row-req",children:b})]})})]})},it=function(e){var t=e.period,r=e.periodNum,n=e.cumlen,c=void 0===n?0:n,s=Object(a.useContext)(Ge),o=Object(a.useContext)(_e),i=Object(a.useContext)(Je),l=Object(a.useContext)(We),u=t.every((function(e){var t;return null===(t=i[o])||void 0===t?void 0:t.has(e.code)})),d=He(i,t.map((function(e){return e.code}))),j=["row-period-num","click-target","table-hover-"+(u?"default":o),d],b=t.filter((function(e){var t=Be(i,e.code);return!l.has(t)})),O=Object(a.useCallback)((function(e){s({type:"selectPeriod",payload:b.map((function(e){return e.code}))})}),[b,s]);if(0===b.length)return null;var f=b.map((function(e,t){return Object(v.jsx)(ot,{mat:e,idx:t+c},e.code)}));return Object(v.jsxs)(Se.a,{className:"row-period",children:[Object(v.jsx)(Ee.a,{className:Object(Ke.a)(j),onClick:O,"data-value":r,children:r}),Object(v.jsx)(Ee.a,{className:"row-mat-group",children:f})]})},lt=Object(a.memo)((function(e){var t=e.periodNumStr||"";return Object(v.jsxs)(Se.a,{className:"pensum-header row-period",children:[Object(v.jsx)(Ee.a,{className:"row-period-num",children:t}),Object(v.jsx)(Ee.a,{className:"row-mat-group",children:Object(v.jsxs)(Se.a,{className:"row-mat",children:[Object(v.jsx)(Ee.a,{className:"row-check"}),Object(v.jsx)(Ee.a,{className:"row-code",children:"C\xf3digo"}),Object(v.jsx)(Ee.a,{children:Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"row-name",children:"Asignatura"}),Object(v.jsx)(Ee.a,{className:"row-cr",children:"Cr."}),Object(v.jsx)(Ee.a,{className:"row-prereq",children:"Requisitos"})]})})]})})]})})),ut={name:"Periodo",acronym:"Per",two:"Pr"};var dt=function(e){var t,r=e.periods,a=e.periodIndexStart,n=void 0===a?1:a,c=e.periodType,s=void 0===c?ut:c,o=r.map((function(e){return e.length})).map((t=0,function(e){return t+=e})),i=r.map((function(e,t){return Object(v.jsx)(it,{period:e,periodNum:t+n,cumlen:o[t-1]},t)}));return Object(v.jsxs)(l.a,{className:"pensum-table",children:[Object(v.jsx)(lt,{periodNumStr:null===s||void 0===s?void 0:s.two}),Object(v.jsx)("div",{className:"pensum-table-body","data-empty-text":"No hay materias que cumplan con el filtro actual.",children:i})]})};var jt=function(e){var t=e.pensum,r=t.career,a=t.periods,n=t.loose,c=t.periodType;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(_.a,{className:"pensum-table-container",children:[Object(v.jsx)(_.a.Header,{children:Object(v.jsx)(_.a.Title,{children:r})}),Object(v.jsx)(_.a.Body,{children:Object(v.jsx)(dt,{periods:a,periodType:c})})]}),n&&n.length>0&&Object(v.jsxs)(_.a,{className:"pensum-table-container",children:[Object(v.jsx)(_.a.Header,{children:Object(v.jsx)(_.a.Title,{children:"Dem\xe1s materias"})}),Object(v.jsx)(_.a.Body,{children:Object(v.jsx)(dt,{periods:[n],periodType:null,periodIndexStart:0})})]})]})},bt=r(87);r(112);function Ot(e){var t=e.entries,r=Object(a.useContext)(_e),n=Object(a.useContext)(Ge),c=Object(a.useCallback)((function(){var e,a=[],c=Object(L.a)(t);try{var s=function(){var t=Object(u.a)(e.value,2),c=t[0],s=t[1];a.push(Object(v.jsx)(G.a,{className:Object(Ke.a)([c,r===c?"active":"not-active"]),onClick:function(){return n({type:"selectMode",payload:c})},children:s},c))};for(c.s();!(e=c.n()).done;)s()}catch(o){c.e(o)}finally{c.f()}return Object(v.jsx)(v.Fragment,{children:a})}),[t,r,n]);return Object(v.jsx)(bt.a,{className:"filter-selector filter-mode",children:Object(v.jsx)(c,{})})}function ft(e){var t=e.entries,r=Object(a.useContext)(We),n=Object(a.useContext)(Ge),c=Object(a.useCallback)((function(){var e,a=[],c=Object(L.a)(t);try{var s=function(){var t=Object(u.a)(e.value,2),c=t[0],s=t[1];a.push(Object(v.jsx)(G.a,{className:Object(Ke.a)([c||"default",r.has(c)?"not-active":"active"]),onClick:function(){return n({type:"toggleFilter",payload:c})},children:s},c))};for(c.s();!(e=c.n()).done;)s()}catch(o){c.e(o)}finally{c.f()}return Object(v.jsx)(v.Fragment,{children:a})}),[t,r,n]);return Object(v.jsx)(bt.a,{className:"filter-selector filter-filter",children:Object(v.jsx)(c,{})})}var ht=Object(a.memo)((function(){return Object(v.jsx)(_.a,{children:Object(v.jsx)(_.a.Body,{children:Object(v.jsxs)(l.a,{className:"d-flex flex-column gap-3",children:[Object(v.jsx)(Se.a,{children:Object(v.jsxs)(Ee.a,{children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)("span",{className:"text-center",children:"Acciones:"})}),Object(v.jsx)(Se.a,{children:Object(v.jsx)(pt,{})})]})}),Object(v.jsxs)(Se.a,{children:[Object(v.jsxs)(Ee.a,{children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)("span",{className:"text-center",children:"Modo de selecci\xf3n:"})}),Object(v.jsx)(Se.a,{children:Object(v.jsx)(Ot,{entries:[["passed","Aprobar"],["course","Cursar"]]})})]}),Object(v.jsxs)(Ee.a,{children:[Object(v.jsx)(Se.a,{children:Object(v.jsx)("span",{className:"text-center",children:"Mostrar solo:"})}),Object(v.jsx)(Se.a,{children:Object(v.jsx)(ft,{entries:[[null,"Pendientes"],["course","Cursando"],["passed","Aprobadas"]]})})]})]})]})})})})),pt=function(){var e=Object(a.useContext)(Ge),t=Object(i.h)(),r="outline-secondary";return Object(v.jsxs)(bt.a,{vertical:!0,children:[Object(v.jsx)(G.a,{variant:r,onClick:function(){return e({type:"passOnCourse"})},children:"Aprobar materias en curso"}),Object(v.jsx)(G.a,{variant:r,onClick:function(){return t("calcular-indice")},children:"Calcular indice"})]})},mt=ht;function vt(e){var t=e.info;return Object(v.jsxs)(_.a,{children:[Object(v.jsx)(_.a.Header,{className:"text-center pt-3",children:Object(v.jsx)("h5",{children:"Detalles de la carrera"})}),Object(v.jsx)(_.a.Body,{className:"m-auto",children:Object(v.jsx)("ul",{children:t.map((function(e,t){return Object(v.jsx)("li",{children:Object(v.jsx)(xt,{info:e})},t)}))})})]})}function xt(e){var t=function(e){var t=[e.substring(0,e.indexOf(": ")),e.substring(e.indexOf(": ")+2)];if(""===t[0])return{type:"simple",data:e};var r=t[1].split(". ");return 1===r.length?{type:"double",data:t}:{type:"double_sublist",data:[t[0],r]}}(e.info);switch(t.type){case"double":var r=Object(u.a)(t.data,2),a=r[0],n=r[1];return Object(v.jsxs)("span",{children:[Object(v.jsxs)("strong",{children:[a,": "]}),n]});case"double_sublist":var c=Object(u.a)(t.data,2),s=c[0],o=c[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("strong",{children:[s,": "]}),Object(v.jsx)("ul",{children:o.map((function(e,t){return Object(v.jsx)("li",{children:e},t)}))})]});default:return Object(v.jsx)("span",{children:t.data})}}r(158);var gt=r(95);function yt(){var e=function(){for(var e=Object(a.useContext)(Je),t=Object(a.useContext)(ge).state.matData.list,r={creds:{total:0,passed:0,course:0},mats:{total:t.length,passed:0,course:0}},n=0;n<t.length;n++){var c=t[n];r.creds.total+=c.cr,e.passed.has(c.code)?(r.creds.passed+=c.cr,r.mats.passed++):e.course.has(c.code)&&(r.creds.course+=c.cr,r.mats.course++)}return r}(),t=100*e.creds.passed/e.creds.total,r=100*e.creds.course/e.creds.total;return Object(v.jsxs)(_.a,{className:"pensum-progress-container",children:[Object(v.jsxs)(_.a.Header,{className:"text-center pt-3",children:[Object(v.jsxs)(gt.a,{children:[Object(v.jsx)(gt.a,{striped:!0,now:t,className:"passed",style:{backgroundColor:"var(--mat-bg)"}}),Object(v.jsx)(gt.a,{striped:!0,now:r,className:"course",style:{backgroundColor:"var(--mat-bg)"}})]}),Object(v.jsx)(_.a.Title,{children:"Progreso en la carrera"})]}),Object(v.jsxs)(_.a.Body,{children:[Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"text-sm-end fw-bold",children:"Materias: "}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(wt,{n:e.mats.passed,total:e.mats.total,extra:e.mats.course,cl:"course"})})]}),Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"text-sm-end fw-bold",children:"Creditos: "}),Object(v.jsx)(Ee.a,{children:Object(v.jsx)(wt,{n:e.creds.passed,total:e.creds.total,extra:e.creds.course,cl:"course"})})]})]})]})}function wt(e){var t=e.n,r=e.total,a=e.extra,n=void 0===a?0:a,c=e.cl,s=void 0===c?"":c,o=0!==r?(100*t/r).toFixed(2):"100",i=0!==r?(100*n/r).toFixed(2):"100",l=n>0?"en curso: ".concat(n," (+").concat(i,"%)"):"";return Object(v.jsxs)("div",{className:"pensum-progress-value",children:[Object(v.jsxs)("div",{children:[t,"/",r," (",o,"%)"]}),Object(v.jsx)("div",{className:"extra "+s,children:l})]})}var Ct=function(e){var t=Object(a.useContext)(ge).state.pensum;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ke,{}),t&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(vt,{info:t.info}),Object(v.jsx)(yt,{}),Object(v.jsx)(mt,{}),Object(v.jsx)(jt,{pensum:t})]})]})},Nt=r(25);var kt=function(){var e=Object(i.h)();return Object(v.jsxs)(Nt.a,{show:!0,onHide:function(){e(-1)},children:[Object(v.jsx)(i.b,{}),Object(v.jsx)(Nt.a.Footer,{children:Object(v.jsx)(G.a,{variant:"primary",onClick:function(){e("/")},children:"Cerrar"})})]})};function St(){var e,t=Object(a.useContext)(ge).state,r=t.matData,n=t.pensum,c=Object(a.useContext)(ct),s=c.map,o=c.scrollToRow,u=Object(i.h)(),d=Object(i.i)().code;if(!d)return Object(v.jsx)(i.a,{to:"/mat"});var j=r.codeMap.get(d);if(!j)return Object(v.jsx)(Et,{code:d});var b=Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(tt,{data:j.code})," ",Object(v.jsx)("span",{children:j.name})]}),O=((null===n||void 0===n?void 0:n.periodType.name)||"Periodo")+":",f=Object(v.jsxs)(l.a,{children:[Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"text-end",children:"C\xf3digo:"}),Object(v.jsx)(Ee.a,{children:j.code})]}),Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"text-end",children:"Cr\xe9ditos:"}),Object(v.jsx)(Ee.a,{children:j.cr})]}),Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ee.a,{className:"text-end",children:O}),Object(v.jsx)(Ee.a,{children:r.periodMap.get(j.code)})]})]}),h=!(null===(e=s.current.get(j.code))||void 0===e?void 0:e.current),p=Object(v.jsx)(l.a,{children:Object(v.jsx)(Se.a,{children:Object(v.jsx)(G.a,{disabled:h,onClick:function(){u("/"),o(j.code)},children:"Localizar en pensum"})})}),m=function(e){return"string"===typeof e?function(){return u("/mat/"+e)}:void 0},x=j.prereq.length>0&&Object(v.jsxs)(l.a,{children:[Object(v.jsx)(Se.a,{children:"Pre-requisitos:"}),Object(v.jsx)(Se.a,{children:j.prereq.map((function(e,t){return Object(v.jsx)(et,{data:e,onClick:m(e)},t)}))})]}),g=j.coreq.length>0&&Object(v.jsxs)(l.a,{children:[Object(v.jsx)(Se.a,{children:"Co-requisitos:"}),Object(v.jsx)(Se.a,{children:j.coreq.map((function(e,t){return Object(v.jsx)(et,{data:e,type:"coreq",onClick:m(e)},t)}))})]}),y=r.postreqMap.get(j.code)||[],w=y.length>0&&Object(v.jsxs)(l.a,{children:[Object(v.jsx)(Se.a,{children:"Es requisito de:"}),Object(v.jsx)(Se.a,{children:y.map((function(e,t){return Object(v.jsx)(et,{data:e,onClick:m(e)},t)}))})]});return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Nt.a.Header,{closeButton:!0,children:Object(v.jsx)(Nt.a.Title,{children:b})}),Object(v.jsxs)(Nt.a.Body,{className:"d-flex flex-column gap-3",children:[f,p,x,g,w]})]})}function Et(e){var t=e.code;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Nt.a.Header,{closeButton:!0,children:Object(v.jsx)(Nt.a.Title,{children:"Materia no encontrada: ".concat(t)})}),Object(v.jsx)(Nt.a.Body,{children:"Intente usando mayusculas o guiones de por medio."})]})}function Pt(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Nt.a.Header,{closeButton:!0,children:Object(v.jsx)(Nt.a.Title,{children:"Inserte un codigo"})}),Object(v.jsx)(Nt.a.Body,{children:"..."})]})}function At(){return Object(v.jsx)(l.a,{children:Object(v.jsx)(Se.a,{children:Object(v.jsx)(G.a,{onClick:function(){r.e(4).then(r.bind(null,167)).then((function(e){return e.default()}))},children:"Set localstorage debug data"})})})}var Tt=r(164),qt=r(166),Mt=r(119),Lt=["href","children"];function Dt(){var e=Ft(),t=e.formValues,r=e.setFormValues,a=e.periodGPA,n=e.cumHours,c=e.setCumHours,s=e.cumGPA,o=e.setCumGPA,u=e.newCumGPA,d=Object(i.h)(),j=function(){d(-1)},b=Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Codigo / Asignatura"}),Object(v.jsx)("th",{children:"Cr."}),Object(v.jsx)("th",{style:{minWidth:"5em"},children:"Grado"})]}),O="align-middle",f=t.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:O,children:[Object(v.jsx)(tt,{data:e.code,className:"me-2",onClick:function(){return d("/mat/".concat(e.code))}}),e.name]}),Object(v.jsx)("td",{className:O,children:e.weight}),Object(v.jsx)("td",{className:O,children:Object(v.jsxs)(H.a.Select,{value:e.value,onChange:function(t){var a=t.target.value;r((function(t){return t.map((function(t){return t!==e?t:Object(S.a)(Object(S.a)({},t),{},{value:Number(a)})}))}))},children:[Object(v.jsx)("option",{value:4,children:"A"}),Object(v.jsx)("option",{value:3,children:"B"}),Object(v.jsx)("option",{value:2,children:"C"}),Object(v.jsx)("option",{value:1,children:"D"}),Object(v.jsx)("option",{value:0,children:"F"})]})})]},e.code)})),h="code text-end",p=0===t.length?Object(v.jsxs)("span",{children:["Para usar esta calculadora, primero debe seleccionar alguna materia como ",Object(v.jsx)("span",{className:"course",style:{color:"var(--mat-fg-color, inherit)"},children:"Cursando"}),"."]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(l.a,{children:Object(v.jsxs)(Tt.a,{size:"sm",children:[Object(v.jsx)("thead",{children:b}),Object(v.jsx)("tbody",{children:f})]})}),Object(v.jsx)(l.a,{children:Object(v.jsxs)(qt.a,{children:[Object(v.jsx)(qt.a.Text,{children:"\xcdndice Periodo: "}),Object(v.jsx)(Mt.a,{type:"number",disabled:!0,className:h,value:a.toPrecision(5)})]})}),Object(v.jsxs)(l.a,{children:[Object(v.jsxs)("details",{className:"container border rounded p-1 px-3",children:[Object(v.jsx)("summary",{className:"fw-bold",children:"C\xf3mo conseguir el indice acumulado exacto"}),Object(v.jsx)(Ut,{})]}),Object(v.jsxs)(qt.a,{children:[Object(v.jsx)(qt.a.Text,{children:"Horas PGA (cr\xe9ditos acumulados): "}),Object(v.jsx)(Mt.a,{type:"number",className:h,onChange:function(e){var t=+e.target.value;c(~~Math.abs(t))},min:0,step:1,value:n})]}),Object(v.jsxs)(qt.a,{children:[Object(v.jsx)(qt.a.Text,{children:"PGA (\xedndice acumulado actual): "}),Object(v.jsx)(Mt.a,{type:"number",className:h,onChange:function(e){var t=+e.target.value;o(Math.max(0,Math.min(4,t)))},min:0,max:4,step:.01,value:s})]})]}),Object(v.jsx)(l.a,{children:Object(v.jsxs)(qt.a,{children:[Object(v.jsx)(qt.a.Text,{className:"fw-bold",children:"\xcdndice Acumulado: "}),Object(v.jsx)(Mt.a,{type:"number",disabled:!0,className:h+" fw-bold",value:u.toPrecision(5)})]})})]});return Object(v.jsxs)(Nt.a,{show:!0,onHide:j,children:[Object(v.jsx)(Nt.a.Header,{closeButton:!0,children:Object(v.jsx)(Nt.a.Title,{children:"Calculadora de \xedndice"})}),Object(v.jsxs)(l.a,{className:"d-flex flex-column gap-3 my-3",children:[p,Object(v.jsx)(i.b,{})]}),Object(v.jsx)(Nt.a.Footer,{children:Object(v.jsx)(G.a,{variant:"primary",onClick:j,children:"Cerrar"})})]})}var Ft=function(){var e=It(),t=Object(u.a)(e,3),r=t[0],n=t[1],c=t[2],s=function(e){var t=e.reduce((function(e,t){return e.total+=t.weight,e.weightSum+=t.weight*t.value,e}),{total:0,weightSum:0}),r=t.total,a=t.weightSum;return{total:r,weightSum:a,pga:a/r}}(r),o=s.pga,i=s.total,l=Object(a.useState)(c),d=Object(u.a)(l,2),j=d[0],b=d[1],O=Object(ye.a)("PENSUM_CALCULATOR_GPA",3.55),f=Object(u.a)(O,2),h=f[0],p=f[1];return Object(a.useEffect)((function(){b(c)}),[c]),{formValues:r,setFormValues:n,periodGPA:o,cumHours:j,setCumHours:b,cumGPA:h,setCumGPA:p,newCumGPA:(o*i+h*j)/(i+j)}},It=function(){var e=Object(a.useContext)(Je),t=e.course,r=e.passed,n=Object(a.useContext)(ge).state.matData.codeMap,c=Object(a.useCallback)((function(e,t){return e.map((function(e){var r=t.find((function(t){return t.code===e.code}));return r||{code:e.code,name:e.name,weight:e.cr,value:4}}))}),[]),s=Object(a.useState)([]),o=Object(u.a)(s,2),i=o[0],l=o[1];Object(a.useEffect)((function(){var e=Object(Pe.a)(t).map((function(e){return n.get(e)})).filter(Boolean);l((function(t){return c(e,t)}))}),[t,n,c]);var d=Object(Pe.a)(r).map((function(e){var t,r;return null!==(t=null===(r=n.get(e))||void 0===r?void 0:r.cr)&&void 0!==t?t:0})).reduce((function(e,t){return t+e}),0);return[i,l,d]};var Ut=Object(a.memo)((function(){var e=function(e){var t=e.href,r=e.children,a=Object(Qe.a)(e,Lt);return Object(v.jsx)("a",Object(S.a)(Object(S.a)({href:t,target:"_blank",rel:"noreferrer"},a),{},{children:r}))};return Object(v.jsxs)(l.a,{children:[Object(v.jsxs)("ol",{children:[Object(v.jsxs)("li",{children:["Entrar a ",Object(v.jsx)(e,{href:"https://landing.unapec.edu.do/banner/",children:"Banner"}),"."]}),Object(v.jsxs)("li",{children:['En "Servicios academicos", ingresar a ',Object(v.jsx)(e,{href:"https://sso.unapec.edu.do/ssomanager/c/SSB?pkg=bwskotrn.P_ViewTermTran",children:'"Hist\xf3rico acad\xe9mico"'}),"."]}),Object(v.jsx)("li",{children:'Se le presenta un historial de todas las notas de todas las materias en todos los cuatrimestres. Una vez aqu\xed, se debe bajar hasta que se encuentre la tabla "TOTALES DE HIST\xd3RICO ACAD\xc9MICO (GRADO)" (antes de la tabla "CURSOS EN PROGRESO").'})]}),Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:'El valor de "Horas PGA" es la cantidad de creditos acumulados.'}),Object(v.jsx)("li",{children:'Para conseguir el indice acumulado exacto, dividir los "Puntos de Calidad" entre las "Horas PGA".'})]})]})}));function Rt(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ct,{}),Object(v.jsx)(i.b,{})]})}var Bt=function(){var e=Object(a.useCallback)((function(e){return Object(v.jsx)(R,{children:Object(v.jsx)(xe,{children:Object(v.jsx)(Ye,{children:Object(v.jsx)(nt,{children:e.children})})})})}),[]);return Object(v.jsx)(e,{children:Object(v.jsxs)(o.a,{basename:"/pensum-extractor-react",children:[Object(v.jsx)(y,{}),Object(v.jsx)(l.a,{fluid:!0,className:"App",children:Object(v.jsxs)(i.e,{children:[Object(v.jsxs)(i.c,{path:"/",element:Object(v.jsx)(Rt,{}),children:[Object(v.jsxs)(i.c,{path:"mat",element:Object(v.jsx)(kt,{}),children:[Object(v.jsx)(i.c,{index:!0,element:Object(v.jsx)(Pt,{})}),Object(v.jsx)(i.c,{path:":code",element:Object(v.jsx)(St,{})})]}),Object(v.jsx)(i.c,{path:"calcular-indice",element:Object(v.jsx)(Dt,{})})]}),Object(v.jsx)(i.c,{path:"debug",element:Object(v.jsx)(At,{})}),Object(v.jsx)(i.c,{path:"*",element:Object(v.jsx)(i.a,{to:"/"})})]})}),Object(v.jsx)(w,{})]})})},Ht=function(e){e&&e instanceof Function&&r.e(5).then(r.bind(null,168)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},Gt=r(122);!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=localStorage.getItem("preferred-color-scheme");null!==t?m(t):t=e,h(t,!1,!0),p(t)}(),s.a.render(Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(Bt,{})}),document.getElementById("root")),Ht(),function(){if("serviceWorker"in navigator){if(new URL("/pensum-extractor-react",window.location.href).origin!==window.location.origin)return;var e=new Gt.a("sw.js");e.addEventListener("installed",(function(e){e.isUpdate&&console.log("New update available!")})),e.register()}}()},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return n}));var a=function(e){return e.filter(Boolean).join(" ")},n=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),a=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(a,"-").concat(r,"-").concat(t)}},59:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var a=r(15),n=r(17),c=r(3),s=r(29);function o(e,t){if(!e)return null;if(e.version<=3){var r=i(e,t);return console.warn("Loaded pensum from old version!"),r}return 5===e.version?function(e){var t=function(e){return Object(c.a)(Object(c.a)({},e),{},{prereq:e.prereq?e.prereq:[],coreq:e.coreq?e.coreq:[]})},r=e.loose.map((function(e){return t(e)})),a=e.periods.map((function(e){return e.map((function(e){return t(e)}))}));return Object(c.a)(Object(c.a)({},e),{},{loose:r,periods:a})}(e):(console.warn("Pensum did not load correctly!",e),null)}function i(e,t){var r={version:Number("5.0"),institution:t,code:e.codigo,publishDate:e.vigencia,fetchDate:"2021-04-24",career:e.carrera,info:e.infoCarrera,src:{type:"convert",date:Object(s.b)(new Date),url:"./pensum/".concat(t,"/").concat(e.codigo.toLowerCase(),".json")},periodType:{name:"Cuatrimestre",acronym:"Cuat",two:"Ct"},loose:[],periods:[]};if(!e.cuats||!e.cuats.length)return console.warn("Pensum ".concat(e.codigo," (").concat(e.carrera,") did not contain any cuat!")),r;var c=function(e){return e?"string"===typeof e?[e]:Array.isArray(e)?Object(n.a)(e):(console.warn("Unknown requirement!: ",e),[]):[]},o=function(e){var t,r,a={code:e.codigo,name:e.asignatura,cr:e.creditos,prereq:[],coreq:[]};return(t=a.prereq).push.apply(t,Object(n.a)(c(e.prereq))),(r=a.prereq).push.apply(r,Object(n.a)(c(e.prereqExtra).map((function(e){return{text:e}})))),a};return e.cuats.forEach((function(e){var t,n=[],c=Object(a.a)(e);try{for(c.s();!(t=c.n()).done;){var s=t.value,i=o(s);n.push(i)}}catch(l){c.e(l)}finally{c.f()}r.periods.push(n)})),r}}},[[159,1,2]]]);
//# sourceMappingURL=main.d0f627ed.chunk.js.map