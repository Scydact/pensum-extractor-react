(this["webpackJsonppensum-extractor-react"]=this["webpackJsonppensum-extractor-react"]||[]).push([[0],{106:function(e,t,r){},124:function(e,t,r){},125:function(e,t,r){},126:function(e,t,r){},127:function(e,t,r){},146:function(e,t,r){},148:function(e,t,r){},149:function(e,t,r){},150:function(e,t,r){},151:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(20),o=r.n(c),s=(r(124),r(125),r(126),r(51)),i=r(11),u=r(22),l=r(4),d=r(115),j=r(108),b=r(109),f=r(110),p=!1;function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e,a="light"===e?"dark":"light",c=document.body;c.classList.add("color-scheme-"+n),c.classList.remove("color-scheme-"+a),c.dataset.colorScheme=n,r||(c.classList.add("color-scheme-transition"),setTimeout((function(){c.classList.remove("color-scheme-transition")}),500)),t&&localStorage.setItem("preferred-color-scheme",e)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";if(p){var r=document.querySelector("#"+t),n=r.dataset;"dark"===e?r.setAttribute("href",n.hrefDark||""):r.setAttribute("href",n.hrefLight||""),n.colorScheme=e}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"css";p=!0;var r,n=document.querySelector("#"+t);null!==n&&n.remove();var a=document.querySelector("#"+t+"-light"),c=document.querySelector("#"+t+"-dark");"dark"===e?(r=c,n=a):(r=a,n=c),r.setAttribute("data-href-light",a.getAttribute("href")||""),r.setAttribute("data-href-dark",c.getAttribute("href")||""),r.setAttribute("data-color-scheme",e),r.setAttribute("media","all"),r.setAttribute("id",t),n.remove()}r(127);var m=r(2);var x=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],a=t[1];return Object(n.useEffect)((function(){a("dark"===document.body.dataset.colorScheme)}),[]),Object(n.useEffect)((function(){!function(e){var t=e?"dark":"light";p||v(t),O(t,!0),h(t)}(r)}),[r]),Object(m.jsx)(d.a,{placement:"left",overlay:Object(m.jsx)(j.a,{children:(r?"Desactivar":"Activar")+" modo oscuro"}),children:Object(m.jsxs)("label",{className:"darkmode-switch"+(r?" dark":""),children:[r?Object(m.jsx)(b.a,{}):Object(m.jsx)(f.a,{}),Object(m.jsx)("input",{type:"checkbox",checked:r,onChange:function(e){a(e.target.checked)}})]})})},g=r(157);var y=function(){var e=Object(n.useRef)(null);return Object(n.useEffect)((function(){var t=window.scrollY,r=function(){if(e.current){var r=window.scrollY;t>r?e.current.classList.remove("hidden"):e.current.classList.add("hidden"),t=r}};return window.addEventListener("scroll",r),function(){return window.removeEventListener("scroll",r)}}),[]),Object(m.jsx)(g.a,{ref:e,variant:"dark",className:"App-header mb-3",fixed:"top",children:Object(m.jsxs)(u.a,{children:[Object(m.jsx)(g.a.Brand,{children:"PENSUMS UNAPEC"}),Object(m.jsx)(x,{})]})})};var w=function(){return Object(m.jsxs)("footer",{className:"mt-3 navbar navbar-expand navbar-light static-bottom",children:[Object(m.jsx)("span",{children:"Pensum Extractor DO"}),Object(m.jsx)("span",{children:"Fernando Rivas, 2021"}),Object(m.jsx)("span",{children:Object(m.jsx)("a",{href:"http://scydact.github.io/",children:"scydact.github.io"})}),Object(m.jsxs)("span",{children:["Version v","1.0"," | save v","5.0"]}),Object(m.jsxs)("span",{children:["En caso de problemas o sugerencias, favor escribir a ",Object(m.jsx)("a",{href:"mailto:scydact@gmail.com?subject=[Pensum Extractor]",children:"scydact@gmail.com"}),"."]})]})},k=r(17),N=r.n(k),C=r(26),S=r(3),q="/pensum/universities.json",E="index.json";function T(){return(T=Object(C.a)(N.a.mark((function e(){var t,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:if("object"===typeof(r=e.sent)){e.next=8;break}throw TypeError("Invalid universities.json format.");case 8:if(r.universities){e.next=10;break}throw TypeError("Invalid universities.json format.");case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return L.apply(this,arguments)}function L(){return(L=Object(C.a)(N.a.mark((function e(t){var r,n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{university:"",api:null,careers:[]});case 2:return r="/pensum/"+t.toLowerCase()+"/"+E,e.next=5,fetch(r);case 5:return n=e.sent,e.next=8,n.json();case 8:if("object"===typeof(a=e.sent)){e.next=11;break}throw TypeError("Invalid careers.json format.");case 11:if(a.api&&a.university&&a.careers){e.next=13;break}throw TypeError("Invalid careers.json format.");case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=r(15);function F(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return function(e,t){return e>t?1:-1};if(1===t.length){var n=t[0];return function(e,t){return e[n]>t[n]?1:-1}}return function(e,r){var n,a=Object(P.a)(t);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(e[c]>r[c])return 1}}catch(o){a.e(o)}finally{a.f()}return-1}}function I(e,t){switch(t.type){case"set/universities":return Object(S.a)(Object(S.a)({},e),{},{universities:t.payload});case"set/selected":var r;if(!t.payload)return Object(S.a)(Object(S.a)({},e),{},{loading:!1,selected:null});var n=t.payload,a=n.code,c=n.data.careers,o=e.universities.find((function(e){return e.code===a}))||{code:a,imgUrl:null,longName:a,shortName:a.toUpperCase()};return(null===(r=e.selected)||void 0===r?void 0:r.code)===a?Object(S.a)(Object(S.a)({},e),{},{loading:!1}):(o.code!==a&&console.warn("University code mismatch!"),Object(S.a)(Object(S.a)({},e),{},{loading:!1,selected:{code:a,university:o,careers:c}}));case"set/loading":return Object(S.a)(Object(S.a)({},e),{},{loading:t.payload});case"set/error":return Object(S.a)(Object(S.a)({},e),{},{error:t.payload});default:return console.error("Unknown action: ",t),e}}var A={universities:[],selected:null,loading:!0,error:null},D=Object(n.createContext)({state:A,dispatch:{},select:function(){var e=Object(C.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),U=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(I,A),a=Object(l.a)(r,2),c=a[0],o=a[1],s=Object(n.useCallback)(function(){var e=Object(C.a)(N.a.mark((function e(t){var r,n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return o({type:"set/selected",payload:null}),e.abrupt("return");case 3:if((t=null===(r=t)||void 0===r?void 0:r.toLowerCase())!==(null===(n=c.selected)||void 0===n?void 0:n.code)){e.next=6;break}return e.abrupt("return");case 6:return o({type:"set/loading",payload:!0}),e.prev=7,e.next=10,M(t);case 10:a=e.sent,o({type:"set/selected",payload:{code:t,data:a}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),console.warn("Unable to load pensums for ".concat(t,": "),e.t0),o({type:"set/selected",payload:{code:t,data:{api:null,university:t.toUpperCase(),careers:[]}}});case 18:return e.abrupt("return");case 19:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),[c.selected,o]);return Object(n.useEffect)((function(){(function(){return T.apply(this,arguments)})().then((function(e){var t=e.universities.sort(F("longName"));o({type:"set/universities",payload:t})})).catch((function(e){o({type:"set/error",payload:e})})).finally((function(){o({type:"set/loading",payload:!1})}))}),[]),Object(n.useEffect)((function(){null===c.selected&&s("unapec")}),[c.selected]),Object(m.jsx)(D.Provider,{value:{state:c,dispatch:o,select:s},children:t})})),R=D,B=r(117),J=r(34),H=r(28),_=r(113),z=r(114),V=r(119),Y=(r(146),{option:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{color:t.isSelected?"white":void 0})},placeholder:function(e,t){return Object(S.a)(Object(S.a)({},e),{},{opacity:.6})}}),G=function(e){return Object(S.a)(Object(S.a)({},e),{},{colors:Object(S.a)(Object(S.a)({},e.colors),{},{primary:"var(--bs-primary)",primary75:"rgba(var(--bs-primary-rgb), 0.75)",primary50:"rgba(var(--bs-primary-rgb), 0.50)",primary25:"rgba(var(--bs-primary-rgb), 0.25)",danger:"var(--bs-danger)",dangerLight:"rgba(var(--bs-danger-rgb), 0.25)",neutral0:"var(--bs-body-bg)",neutral5:"var(--th-gray-50)",neutral10:"var(--th-gray-100)",neutral20:"var(--th-gray-200)",neutral30:"var(--th-gray-300)",neutral40:"var(--th-gray-400)",neutral50:"var(--th-gray-500)",neutral60:"var(--th-gray-600)",neutral70:"var(--th-gray-700)",neutral80:"var(--th-gray-800)",neutral90:"var(--th-gray-900)"})})},K=r(41),W=r(55),Q=r(58),X=r(118),Z=r(63),$="pensumextractor",ee="/pensum";function te(e,t){return re.apply(this,arguments)}function re(){return(re=Object(C.a)(N.a.mark((function e(t,r){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&r){e.next=2;break}throw new ue("No university or code provided!");case 2:return e.next=4,ne(t,r);case 4:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,ce(t,r);case 9:if(!(n=e.sent)){e.next=12;break}return e.abrupt("return",n);case 12:return e.next=14,se(t,r);case 14:if(!(n=e.sent)){e.next=17;break}return e.abrupt("return",n);case 17:throw new ue("Unable to fetch pensum with identifier ".concat(t,"/").concat(r));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t){return ae.apply(this,arguments)}function ae(){return(ae=Object(C.a)(N.a.mark((function e(t,r){var n,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[$,t,r].join("_"),a=localStorage.getItem(n)){e.next=4;break}return e.abrupt("return",null);case 4:return c=JSON.parse(a),e.abrupt("return",Object(Z.b)(c,t));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e,t){return oe.apply(this,arguments)}function oe(){return(oe=Object(C.a)(N.a.mark((function e(t,r){var n,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[ee,t,r].join("/")+".json",e.prev=1,e.next=4,fetch(n);case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:return e.abrupt("return",Object(Z.b)(a,t));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function se(e,t){return ie.apply(this,arguments)}function ie(){return(ie=Object(C.a)(N.a.mark((function e(t,n){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="unapec"===e.t0?3:9;break;case 3:return e.next=5,r.e(3).then(r.bind(null,159));case 5:return a=e.sent,e.next=8,a.default(n,(function(e,r,a){return console.log("".concat(e," ").concat(t,"/").concat(n,", using proxy #").concat(a,": ").concat(r))}));case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ue=function(e){Object(W.a)(r,e);var t=Object(Q.a)(r);function r(){return Object(K.a)(this,r),t.apply(this,arguments)}return r}(Object(X.a)(Error));function le(e){var t=Object(S.a)({},e);return t.prereq&&0===t.prereq.length&&delete t.prereq,t.coreq&&0===t.coreq.length&&delete t.coreq,t}var de=function(e){return Object(S.a)(Object(S.a)({},e),{},{loose:e.loose.map((function(e){return le(e)})),periods:e.periods.map((function(e){return e.map((function(e){return le(e)}))}))})};var je=function(e){if(!e)return{list:[],periodMap:new Map,codeMap:new Map,postreqMap:new Map,looseUnhandled:new Set};var t=new Map,r=new Map,n=new Map,a=[],c=[],o=function(e,n){t.has(e.code)&&c.push({code:e.code,text:"was already registered!"}),t.set(e.code,e),r.set(e.code,n),a.push(e)};e.loose.forEach((function(e){return o(e,0)})),e.periods.forEach((function(e,t){e.forEach((function(e){return o(e,t+1)}))}));for(var s=0,i=a;s<i.length;s++){var u,l=i[s],d=l.code,j=Object(P.a)(l.prereq);try{for(j.s();!(u=j.n()).done;){var b=u.value;if("string"===typeof b){var f=n.get(b);f?f.push(d):n.set(b,[d])}}}catch(x){j.e(x)}finally{j.f()}}for(var p=new Set(t.keys()),O=function(e,t){var r,n=new Set(e),a=Object(P.a)(t);try{for(a.s();!(r=a.n()).done;){var c=r.value;n.delete(c)}}catch(x){a.e(x)}finally{a.f()}return n}(new Set(n.keys()),p),h=0,v=c;h<v.length;h++){var m=v[h];console.warn("Warning at pensum-get-extras [".concat(m.code,"]: ").concat(m.text))}return{list:a,periodMap:r,codeMap:t,postreqMap:n,looseUnhandled:O}},be="PENSUM_DATA";function fe(e){return{pensum:e,matData:je(e),error:null,loading:!1}}function pe(e,t){switch(t.type){case"clear":return fe(null);case"set":return function(e){if(e){var t=de(e);localStorage.setItem(be,JSON.stringify(t))}else localStorage.removeItem(be)}(t.payload),fe(t.payload);case"load/fromSave":return fe(function(){var e=localStorage.getItem(be);if(!e)return null;var t=JSON.parse(e);return Object(Z.b)(t,t.institution)}());case"error":return console.error(t.payload),Object(S.a)(Object(S.a)({},e),{},{error:t.payload,loading:!1});case"loading":return Object(S.a)(Object(S.a)({},e),{},{loading:!0});default:return console.error('Unknown action "'+t.type+'".'),e}}var Oe={state:fe(null),dispatch:function(){},load:function(){}},he=Object(n.createContext)(Oe),ve=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(pe,Oe.state),a=Object(l.a)(r,2),c=a[0],o=a[1];Object(n.useEffect)((function(){o({type:"load/fromSave"})}),[]);var s=Object(n.useCallback)(function(){var e=Object(C.a)(N.a.mark((function e(t,r){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:"loading",payload:!0}),e.prev=1,e.next=4,te(t,r);case 4:n=e.sent,o({type:"set",payload:n}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),a=e.t0 instanceof SyntaxError?"JSON could not be parsed for ".concat(t,"/").concat(r,"."):e.t0 instanceof ue?e.t0.message:e.t0,o({type:"error",payload:a});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r){return e.apply(this,arguments)}}(),[]);return Object(m.jsx)(he.Provider,{value:{state:c,dispatch:o,load:s},children:t})})),me=he,xe=r(116);function ge(e,t){return"[".concat(e,"] ").concat(t)}var ye=Object(n.memo)((function(e){var t=e.value,r=e.options,n=e.isLoading,a=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("label",{className:"form-label mb-0 small",children:"Universidad"}),Object(m.jsx)(z.a,{value:t,options:r,isSearchable:!0,isLoading:n,onChange:a,name:"university",className:"mb-2",theme:G,placeholder:"Seleccione una universidad...",styles:Y})]})})),we=Object(n.memo)((function(e){var t=e.value,r=e.options,n=e.isLoading,a=e.onChange;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("label",{className:"form-label mb-0 small",children:"Carrera"}),Object(m.jsx)(V.a,{isClearable:!0,value:t,options:r,isLoading:n,loadingMessage:function(){return Object(m.jsx)("span",{children:"Cargando carreras..."})},onChange:a,className:"mb-2",theme:G,placeholder:"Seleccione o escriba una carrera o su codigo...",styles:Y})]})})),ke=function(){var e=Object(n.useContext)(me),t=e.state,r=t.pensum,a=t.error,c=t.loading,o=e.load,s=Object(n.useContext)(R),i=s.state,d=s.select,j=i.universities,b=i.selected,f=i.loading,p=i.error,O=Object(n.useState)(null),h=Object(l.a)(O,2),v=h[0],x=h[1],g=Object(xe.a)(r),y=Object(n.useMemo)((function(){var e=null===b||void 0===b?void 0:b.careers;return e?e.sort(F("code")).map((function(e){return{value:e.code,label:ge(e.code,e.name)}})):[]}),[b]);Object(n.useEffect)((function(){if(r!==g&&r){d(r.institution);var e=y.find((function(e){return e.value===r.code}))||{value:r.code,label:ge(r.code,r.career)};x(e)}}),[r,g,y,d]);var w=Object(n.useMemo)((function(){return j.map((function(e){return{value:e.code,label:ge(e.shortName,e.longName)}}))}),[j]),k=Object(n.useMemo)((function(){return w.find((function(e){return e.value===(null===b||void 0===b?void 0:b.code)}))||null}),[w,b]),N=Object(n.useCallback)((function(e){d((null===e||void 0===e?void 0:e.value)||null)}),[d]),C=Object(n.useCallback)((function(e){e&&e.preventDefault();var t=(null===b||void 0===b?void 0:b.code)||"",r=(null===v||void 0===v?void 0:v.value)||"";o(t,r)}),[o,b,v]);return Object(m.jsx)(H.a,{children:Object(m.jsx)(H.a.Body,{children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(B.a,{onSubmit:C,children:[Object(m.jsx)(ye,{value:k,options:w,isLoading:f,onChange:N}),Object(m.jsx)(we,{value:v,options:y,isLoading:f,onChange:x}),Object(m.jsx)(J.a,{type:"submit",disabled:!v,className:"w-100",children:c?Object(m.jsx)(_.a,{animation:"border",size:"sm",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Cargando..."})}):"Cargar"}),p&&Object(m.jsx)("p",{style:{color:"red"},children:"Error @ uni: "+String(p)}),a&&Object(m.jsx)("p",{style:{color:"red"},children:"Error @ pensum: "+String(a)})]})})})})},Ne=(r(148),r(14)),Ce=r(12),Se=r(19),qe=["passed","course"],Ee=function(){return{mode:"passed",tracker:{course:new Set,passed:new Set},currentName:null,storage:{},filter:new Set}},Te="PENSUM_TRACKER";function Me(e,t){var r,n,a=function(t){t||(t=e.tracker);for(var r={},n=0,a=Object.entries(t);n<a.length;n++){var c=Object(l.a)(a[n],2),o=c[0],s=c[1];r[o]=new Set(s)}return r},c=e.mode;switch(t.type){case"selectMode":var o=t.payload||"passed";return Me(Object(S.a)(Object(S.a)({},e),{},{mode:o}),{type:"saveToStorage"});case"select":var s=t.payload,i=a();if(i[c].has(s))i[c].delete(s);else{i[c].add(s);for(var u=0,d=Object.entries(i);u<d.length;u++){var j=Object(l.a)(d[u],2),b=j[0],f=j[1];b!==c&&f.delete(s)}}return Me(Object(S.a)(Object(S.a)({},e),{},{tracker:i}),{type:"saveToStorage"});case"selectPeriod":var p=t.payload,O=a(),h=p.length;if(0===h)return e;var v,m=(r=O,n=function(e){return[]},Object.fromEntries(Object.entries(r).map((function(e,t){var r=Object(l.a)(e,2),a=r[0],c=r[1];return[a,n(c,a,t)]})))),x=[],g=Object(P.a)(p);try{for(g.s();!(v=g.n()).done;){for(var y=v.value,w=!1,k=0,N=Object.entries(O);k<N.length;k++){var C=Object(l.a)(N[k],2),q=C[0];C[1].has(y)&&(m[q].push(y),w=!0)}w||x.push(y)}}catch(ne){g.e(ne)}finally{g.f()}var E=m[c].length===h,T=x.length===h,M=0===x.length,L=!T&&!M;if(E)p.forEach((function(e){return O[c].delete(e)}));else if(L)x.forEach((function(e){return O[c].add(e)}));else{var F,I=Object(P.a)(p);try{for(I.s();!(F=I.n()).done;)for(var A=F.value,D=0,U=Object.entries(O);D<U.length;D++){var R=Object(l.a)(U[D],2),B=R[0],J=R[1];B===c?J.add(A):J.delete(A)}}catch(ne){I.e(ne)}finally{I.f()}}return Me(Object(S.a)(Object(S.a)({},e),{},{tracker:O}),{type:"saveToStorage"});case"setTrackerID":var H;if("string"!==typeof t.payload)H=null;else{var _=t.payload.trim();H=""===_?null:_}if("string"===typeof H&&e.storage[H]&&!e.storage.hasOwnProperty(H))throw RangeError("Given name ".concat(H," is a prototype property!"));var z=Object(S.a)({},e.storage);return e.currentName&&delete z[e.currentName],Me(Object(S.a)(Object(S.a)({},e),{},{currentName:H,storage:z}),{type:"saveToStorage"});case"copyTrackerID":var V=t.payload,Y=V.old,G=V.new;if(Y===G)return e;var K=Object(S.a)({},e.storage),W=K[Y];if(!W)return e;K[G]=a(W);var Q=e.currentName;return Q===Y&&(Q=G),Me(Object(S.a)(Object(S.a)({},e),{},{storage:K,currentName:Q}),{type:"saveToStorage"});case"deleteTrackerID":var X=t.payload;if(!X||!e.storage[X])return e;var Z=Object(S.a)({},e.storage);delete Z[X];var $=e.currentName;return $===X&&($=null),Me(Object(S.a)(Object(S.a)({},e),{},{storage:Z,currentName:$}),{type:"saveToStorage"});case"toggleFilter":var ee=new Set(e.filter),te=t.payload;return ee.has(te)?ee.delete(te):ee.add(te),Me(Object(S.a)(Object(S.a)({},e),{},{filter:ee}),{type:"saveToStorage"});case"saveToStorage":return e.currentName&&(e.storage[e.currentName]=e.tracker),function(e){var t=JSON.stringify(e,Le);localStorage.setItem(Te,t)}(e),e;case"loadFromStorage":var re=function(){var e=localStorage.getItem(Te);if(!e)return null;var t=JSON.parse(e,Pe);if(!(t&&t.tracker&&"object"===typeof t.tracker.passed&&t.tracker.passed instanceof Set&&t.storage))return null;return function(e){var t=Ee(),r=Object(S.a)(Object(S.a)({},t.tracker),e.tracker),n=e.mode in qe?e.mode:t.mode,a="string"===typeof e.currentName?e.currentName:null,c=t.storage;"object"===typeof e.storage&&(c=Object.fromEntries(Object.entries(e.storage).filter((function(e){var t=Object(l.a)(e,2),r=t[0],n=t[1];return"string"===typeof r&&c[r]&&!c.hasOwnProperty(r)&&n instanceof Set&&Object(Se.a)(n).every((function(e){return"string"===typeof e}))}))));var o=e.filter instanceof Set?e.filter:t.filter;return{tracker:r,mode:n,currentName:a,storage:c,filter:o}}(t)}();return re||e;default:return console.error('Unknown action "'+(null===t||void 0===t?void 0:t.type)+'".'),e}}var Le=function(e,t){return"object"===typeof t&&t instanceof Set?Object(Se.a)(t):t},Pe=function(e,t){return"object"===typeof t&&Array.isArray(t)?new Set(t):t};var Fe={state:Ee(),dispatch:function(){}},Ie=function(e,t){for(var r=0,n=Object.entries(e);r<n.length;r++){var a=Object(l.a)(n[r],2),c=a[0];if(a[1].has(t))return c}return null},Ae=function(e,t){for(var r=function(){var e=Object(l.a)(a[n],2),r=e[0],c=e[1];if(t.every((function(e){return c.has(e)})))return{v:r}},n=0,a=Object.entries(e);n<a.length;n++){var c=r();if("object"===typeof c)return c.v}return null},De=Object(n.createContext)(Fe.dispatch),Ue=Object(n.createContext)(Fe.state.mode),Re=Object(n.createContext)(Fe.state.tracker),Be=Object(n.createContext)(Fe.state.currentName),Je=Object(n.createContext)(Fe.state.storage),He=Object(n.createContext)(Fe.state.filter),_e=Object(n.memo)((function(e){var t=e.children,r=Object(n.useReducer)(Me,Fe.state),a=Object(l.a)(r,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){o({type:"loadFromStorage"}),window.x=o}),[]),Object(m.jsx)(De.Provider,{value:o,children:Object(m.jsx)(Ue.Provider,{value:c.mode,children:Object(m.jsx)(Re.Provider,{value:c.tracker,children:Object(m.jsx)(Be.Provider,{value:c.currentName,children:Object(m.jsx)(Je.Provider,{value:c.storage,children:Object(m.jsx)(He.Provider,{value:c.filter,children:t})})})})})})})),ze=r(29),Ve=r(5),Ye=(r(149),r(150),["data","type","children"]),Ge=["data","type","children"];function Ke(e){var t,r=e.data,a=e.type,c=void 0===a?"prereq":a,o=e.children,s=Object(Ve.a)(e,Ye),i=Object(n.useContext)(me).state.matData,u=Object(n.useContext)(Re),l=["mat-code",c];return"string"===typeof r?(t=o||r,l.push("code","click-target"),i.looseUnhandled.has(r)&&l.push("missing"),l.push(Ie(u,r)||"default")):(t=o||r.text,l.push("req-text")),Object(m.jsx)("span",Object(S.a)(Object(S.a)({className:Object(ze.a)(l)},s),{},{children:t}))}function We(e){var t,r,a=e.data,c=e.type,o=void 0===c?"prereq":c,s=e.children,i=Object(Ve.a)(e,Ge),u=Object(n.useContext)(me).state.matData;if(s)return Object(m.jsx)(Ke,Object(S.a)(Object(S.a)({data:a,type:o},i),{},{children:s}));"string"===typeof a&&(t=null===(r=u.codeMap.get(a))||void 0===r?void 0:r.name);return t?Object(m.jsx)(Ke,Object(S.a)(Object(S.a)({data:a,type:o},i),{},{children:"[".concat(a,"] ").concat(t)})):Object(m.jsx)(Ke,Object(S.a)({data:a,type:o},i))}var Qe=Ke,Xe={map:{current:new Map},scrollToRow:function(){},updateNode:function(){}},Ze=Object(n.createContext)(Xe),$e=Object(n.memo)((function(e){var t=e.children,r=Object(n.useRef)(new Map),a=Object(n.useCallback)((function(e,t){r.current.set(e,t),console.log("Updated ".concat(e,":"),!!(null===t||void 0===t?void 0:t.current))}),[]),c=Object(n.useCallback)((function(e){setTimeout((function(){var t,n,a,c=r.current.get(e);c&&(null===(t=c.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"}),null===(n=c.current)||void 0===n||n.classList.remove("highlight-row"),null===(a=c.current)||void 0===a||a.classList.add("highlight-row"),setTimeout((function(){var e;return null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e.classList.remove("highlight-row")}),3e3))}),0)}),[]);return Object(m.jsx)(Ze.Provider,{value:{map:r,scrollToRow:c,updateNode:a},children:t})})),et=Ze,tt=new Map([["passed","\u2705"],["course","\ud83d\udd33"],[null,"\u2b1c"]]);var rt=function(e){var t=e.mat,r=e.idx,a=Object(n.useRef)(null),c=Object(n.useRef)(null),o=Object(n.useContext)(et).updateNode,i=Object(n.useContext)(De),u=Object(n.useContext)(Re),l=Object(n.useContext)(Ue),d=Ie(u,t.code),j=["row-mat",1&r&&"even",d,"mat-hover-"+(d===l?"default":l)],b=[].concat(Object(Se.a)(t.prereq.map((function(e,t){return Object(m.jsx)(Qe,{data:e,type:"prereq"},t)}))),Object(Se.a)(t.coreq.map((function(e,t){return Object(m.jsx)(Qe,{data:e,type:"coreq"},t+1e3)}))));Object(n.useEffect)((function(){var e=function(){var e;null===(e=a.current)||void 0===e||e.classList.add("track-hover")},t=function(){var e;null===(e=a.current)||void 0===e||e.classList.remove("track-hover")},r=c.current;if(r)return r.addEventListener("mouseenter",e),r.addEventListener("mouseleave",t),function(){r.removeEventListener("mouseenter",e),r.removeEventListener("mouseleave",t)}}),[a,c]),Object(n.useEffect)((function(){return o(t.code,a),function(){return o(t.code,a)}}),[t.code,o,a]);var f=Object(n.useCallback)((function(e){i({type:"select",payload:t.code})}),[t.code,i]);return Object(m.jsxs)(Ne.a,{ref:a,className:Object(ze.a)(j),"data-mat":t.code,children:[Object(m.jsx)(Ce.a,{ref:c,onClick:f,className:"row-check click-target",children:tt.get(d)||"\u2b1cx"}),Object(m.jsx)(Ce.a,{className:"row-code code",children:Object(m.jsx)(s.b,{to:"/mat/".concat(t.code),children:t.code})}),Object(m.jsx)(Ce.a,{children:Object(m.jsxs)(Ne.a,{className:"h-100 align-items-center",children:[Object(m.jsx)(Ce.a,{className:"row-name",children:t.name}),Object(m.jsx)(Ce.a,{className:"row-cr",children:t.cr}),Object(m.jsx)(Ce.a,{className:"row-req",children:b})]})})]})},nt=function(e){var t=e.period,r=e.periodNum,a=e.cumlen,c=void 0===a?0:a,o=Object(n.useContext)(De),s=Object(n.useContext)(Ue),i=Object(n.useContext)(Re),u=Object(n.useContext)(He),l=t.every((function(e){var t;return null===(t=i[s])||void 0===t?void 0:t.has(e.code)})),d=Ae(i,t.map((function(e){return e.code}))),j=["row-period-num","click-target","table-hover-"+(l?"default":s),d],b=t.filter((function(e){var t=Ie(i,e.code);return!u.has(t)})),f=Object(n.useCallback)((function(e){o({type:"selectPeriod",payload:b.map((function(e){return e.code}))})}),[b,o]);if(0===b.length)return null;var p=b.map((function(e,t){return Object(m.jsx)(rt,{mat:e,idx:t+c},e.code)}));return Object(m.jsxs)(Ne.a,{className:"row-period",children:[Object(m.jsx)(Ce.a,{className:Object(ze.a)(j),onClick:f,"data-value":r,children:r}),Object(m.jsx)(Ce.a,{className:"row-mat-group",children:p})]})},at=Object(n.memo)((function(e){var t=e.periodNumStr||"";return Object(m.jsxs)(Ne.a,{className:"pensum-header row-period",children:[Object(m.jsx)(Ce.a,{className:"row-period-num",children:t}),Object(m.jsx)(Ce.a,{className:"row-mat-group",children:Object(m.jsxs)(Ne.a,{className:"row-mat",children:[Object(m.jsx)(Ce.a,{className:"row-check"}),Object(m.jsx)(Ce.a,{className:"row-code",children:"C\xf3digo"}),Object(m.jsx)(Ce.a,{children:Object(m.jsxs)(Ne.a,{children:[Object(m.jsx)(Ce.a,{className:"row-name",children:"Asignatura"}),Object(m.jsx)(Ce.a,{className:"row-cr",children:"Cr."}),Object(m.jsx)(Ce.a,{className:"row-prereq",children:"Requisitos"})]})})]})})]})})),ct={name:"Periodo",acronym:"Per",two:"Pr"};var ot=function(e){var t,r=e.periods,n=e.periodIndexStart,a=void 0===n?1:n,c=e.periodType,o=void 0===c?ct:c,s=r.map((function(e){return e.length})).map((t=0,function(e){return t+=e})),i=r.map((function(e,t){return Object(m.jsx)(nt,{period:e,periodNum:t+a,cumlen:s[t-1]},t)}));return Object(m.jsxs)(u.a,{className:"pensum-table",children:[Object(m.jsx)(at,{periodNumStr:null===o||void 0===o?void 0:o.two}),Object(m.jsx)("div",{className:"pensum-table-body","data-empty-text":"No hay materias que cumplan con el filtro actual.",children:i})]})};var st=function(e){var t=e.pensum,r=t.career,n=t.periods,a=t.loose,c=t.periodType;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(H.a,{children:Object(m.jsxs)(H.a.Body,{className:"pensum-table-container",children:[Object(m.jsx)(H.a.Title,{children:r}),Object(m.jsx)(ot,{periods:n,periodType:c})]})}),a&&a.length>0&&Object(m.jsx)(H.a,{children:Object(m.jsxs)(H.a.Body,{className:"pensum-table-container",children:[Object(m.jsx)(H.a.Title,{children:"Dem\xe1s materias"}),Object(m.jsx)(ot,{periods:[a],periodType:null,periodIndexStart:0})]})})]})},it=r(84);r(106);var ut=function(e){var t=e.entries,r=Object(n.useContext)(Ue),a=Object(n.useContext)(De),c=Object(n.useCallback)((function(){var e,n=[],c=Object(P.a)(t);try{var o=function(){var t=Object(l.a)(e.value,2),c=t[0],o=t[1];n.push(Object(m.jsx)(J.a,{className:Object(ze.a)([c,r===c?"active":"not-active"]),onClick:function(){return a({type:"selectMode",payload:c})},children:o},c))};for(c.s();!(e=c.n()).done;)o()}catch(s){c.e(s)}finally{c.f()}return Object(m.jsx)(m.Fragment,{children:n})}),[t,r,a]);return Object(m.jsx)(it.a,{className:"filter-selector filter-mode",children:Object(m.jsx)(c,{})})};var lt=function(e){var t=e.entries,r=Object(n.useContext)(He),a=Object(n.useContext)(De),c=Object(n.useCallback)((function(){var e,n=[],c=Object(P.a)(t);try{var o=function(){var t=Object(l.a)(e.value,2),c=t[0],o=t[1];n.push(Object(m.jsx)(J.a,{className:Object(ze.a)([c||"default",r.has(c)?"not-active":"active"]),onClick:function(){return a({type:"toggleFilter",payload:c})},children:o},c))};for(c.s();!(e=c.n()).done;)o()}catch(s){c.e(s)}finally{c.f()}return Object(m.jsx)(m.Fragment,{children:n})}),[t,r,a]);return Object(m.jsx)(it.a,{className:"filter-selector filter-filter",children:Object(m.jsx)(c,{})})};var dt=function(){return Object(m.jsx)(H.a,{children:Object(m.jsx)(H.a.Body,{children:Object(m.jsx)(u.a,{children:Object(m.jsxs)(Ne.a,{children:[Object(m.jsxs)(Ce.a,{children:[Object(m.jsx)(Ne.a,{children:Object(m.jsx)("span",{className:"text-center",children:"Modo de selecci\xf3n:"})}),Object(m.jsx)(Ne.a,{children:Object(m.jsx)(ut,{entries:[["passed","Aprobar"],["course","Cursar"]]})})]}),Object(m.jsxs)(Ce.a,{children:[Object(m.jsx)(Ne.a,{children:Object(m.jsx)("span",{className:"text-center",children:"Mostrar solo:"})}),Object(m.jsx)(Ne.a,{children:Object(m.jsx)(lt,{entries:[[null,"Pendientes"],["course","Cursando"],["passed","Aprobadas"]]})})]})]})})})})};var jt=function(e){var t=Object(n.useContext)(me).state.pensum;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ke,{}),t&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(dt,{}),Object(m.jsx)(st,{pensum:t})]})]})},bt=r(24);var ft=function(){var e=Object(i.h)();return Object(m.jsxs)(bt.a,{show:!0,onHide:function(){e(-1)},children:[Object(m.jsx)(i.b,{}),Object(m.jsx)(bt.a.Footer,{children:Object(m.jsx)(J.a,{variant:"primary",onClick:function(){e("/")},children:"Cerrar"})})]})};function pt(){var e,t=Object(n.useContext)(me).state,r=t.matData,a=t.pensum,c=Object(n.useContext)(et),o=c.map,s=c.scrollToRow,l=Object(i.h)(),d=Object(i.i)().code;if(!d)return Object(m.jsx)(i.a,{to:"/mat"});var j=r.codeMap.get(d);if(!j)return Object(m.jsx)(Ot,{code:d});var b=Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Qe,{data:j.code})," ",Object(m.jsx)("span",{children:j.name})]}),f=((null===a||void 0===a?void 0:a.periodType.name)||"Periodo")+":",p=Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(Ne.a,{children:[Object(m.jsx)(Ce.a,{className:"text-end",children:"C\xf3digo:"}),Object(m.jsx)(Ce.a,{children:j.code})]}),Object(m.jsxs)(Ne.a,{children:[Object(m.jsx)(Ce.a,{className:"text-end",children:"Cr\xe9ditos:"}),Object(m.jsx)(Ce.a,{children:j.cr})]}),Object(m.jsxs)(Ne.a,{children:[Object(m.jsx)(Ce.a,{className:"text-end",children:f}),Object(m.jsx)(Ce.a,{children:r.periodMap.get(j.code)})]})]}),O=!(null===(e=o.current.get(j.code))||void 0===e?void 0:e.current),h=Object(m.jsx)(u.a,{children:Object(m.jsx)(Ne.a,{children:Object(m.jsx)(J.a,{disabled:O,onClick:function(){l("/"),s(j.code)},children:"Localizar en pensum"})})}),v=function(e){return"string"===typeof e?function(){return l("/mat/"+e)}:void 0},x=j.prereq.length>0&&Object(m.jsxs)(u.a,{children:[Object(m.jsx)(Ne.a,{children:"Pre-requisitos:"}),Object(m.jsx)(Ne.a,{children:j.prereq.map((function(e,t){return Object(m.jsx)(We,{data:e,onClick:v(e)},t)}))})]}),g=j.coreq.length>0&&Object(m.jsxs)(u.a,{children:[Object(m.jsx)(Ne.a,{children:"Co-requisitos:"}),Object(m.jsx)(Ne.a,{children:j.coreq.map((function(e,t){return Object(m.jsx)(We,{data:e,type:"coreq",onClick:v(e)},t)}))})]}),y=r.postreqMap.get(j.code)||[],w=y.length>0&&Object(m.jsxs)(u.a,{children:[Object(m.jsx)(Ne.a,{children:"Es requisito de:"}),Object(m.jsx)(Ne.a,{children:y.map((function(e,t){return Object(m.jsx)(We,{data:e,onClick:v(e)},t)}))})]});return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(bt.a.Header,{closeButton:!0,children:Object(m.jsx)(bt.a.Title,{children:b})}),Object(m.jsxs)(bt.a.Body,{className:"d-flex flex-column gap-3",children:[p,h,x,g,w]})]})}function Ot(e){var t=e.code;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(bt.a.Header,{closeButton:!0,children:Object(m.jsx)(bt.a.Title,{children:"Materia no encontrada: ".concat(t)})}),Object(m.jsx)(bt.a.Body,{children:"Intente usando mayusculas o guiones de por medio."})]})}function ht(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(bt.a.Header,{closeButton:!0,children:Object(m.jsx)(bt.a.Title,{children:"Inserte un codigo"})}),Object(m.jsx)(bt.a.Body,{children:"..."})]})}function vt(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(u.a,{fluid:!0,className:"App",children:Object(m.jsx)(jt,{})}),Object(m.jsx)(i.b,{}),Object(m.jsx)(w,{})]})}var mt=function(){var e=Object(n.useCallback)((function(e){return Object(m.jsx)(U,{children:Object(m.jsx)(ve,{children:Object(m.jsx)(_e,{children:Object(m.jsx)($e,{children:e.children})})})})}),[]);return Object(m.jsx)(e,{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(i.e,{children:Object(m.jsxs)(i.c,{path:"/",element:Object(m.jsx)(vt,{}),children:[Object(m.jsxs)(i.c,{path:"mat",element:Object(m.jsx)(ft,{}),children:[Object(m.jsx)(i.c,{index:!0,element:Object(m.jsx)(ht,{})}),Object(m.jsx)(i.c,{path:":code",element:Object(m.jsx)(pt,{})})]}),Object(m.jsx)(i.c,{path:"*",element:Object(m.jsx)(i.a,{to:"/"})})]})})})})},xt=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,158)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),n(e),a(e),c(e),o(e)}))};!function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",t=localStorage.getItem("preferred-color-scheme");null!==t?v(t):t=e,O(t,!1,!0),h(t)}(),o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(mt,{})}),document.getElementById("root")),xt()},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return a}));var n=function(e){return e.filter(Boolean).join(" ")},a=function(e){var t=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),r=new Intl.DateTimeFormat("en",{month:"2-digit"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(n,"-").concat(r,"-").concat(t)}},63:function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return i}));var n=r(15),a=r(19),c=r(3),o=r(29);function s(e,t){if(!e)return null;if(e.version<=3){var r=i(e,t);return console.warn("Loaded pensum from old version!"),r}return 5===e.version?function(e){var t=function(e){return Object(c.a)(Object(c.a)({},e),{},{prereq:e.prereq?e.prereq:[],coreq:e.coreq?e.coreq:[]})},r=e.loose.map((function(e){return t(e)})),n=e.periods.map((function(e){return e.map((function(e){return t(e)}))}));return Object(c.a)(Object(c.a)({},e),{},{loose:r,periods:n})}(e):(console.warn("Pensum did not load correctly!",e),null)}function i(e,t){var r={version:Number("5.0"),institution:t,code:e.codigo,publishDate:e.vigencia,fetchDate:"2021-04-24",career:e.carrera,info:e.infoCarrera,src:{type:"convert",date:Object(o.b)(new Date),url:"./pensum/".concat(t,"/").concat(e.codigo.toLowerCase(),".json")},periodType:{name:"Cuatrimestre",acronym:"Cuat",two:"Ct"},loose:[],periods:[]};if(!e.cuats||!e.cuats.length)return console.warn("Pensum ".concat(e.codigo," (").concat(e.carrera,") did not contain any cuat!")),r;var c=function(e){return e?"string"===typeof e?[e]:Array.isArray(e)?Object(a.a)(e):(console.warn("Unknown requirement!: ",e),[]):[]},s=function(e){var t,r,n={code:e.codigo,name:e.asignatura,cr:e.creditos,prereq:[],coreq:[]};return(t=n.prereq).push.apply(t,Object(a.a)(c(e.prereq))),(r=n.prereq).push.apply(r,Object(a.a)(c(e.prereqExtra).map((function(e){return{text:e}})))),n};return e.cuats.forEach((function(e){var t,a=[],c=Object(n.a)(e);try{for(c.s();!(t=c.n()).done;){var o=t.value,i=s(o);a.push(i)}}catch(u){c.e(u)}finally{c.f()}r.periods.push(a)})),r}}},[[151,1,2]]]);
//# sourceMappingURL=main.baa76c57.chunk.js.map